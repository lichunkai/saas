webpackJsonp([43],{274:function(t,e,a){"use strict";function n(t){u||a(722)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(509),r=a.n(s);for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);var i=a(724),l=a.n(i),u=!1,c=a(0),d=n,p=c(r.a,l.a,!1,d,"data-v-5a687b51",null);p.options.__file="src/views/office-platform/tongxunlu.vue",e.default=p.exports},509:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"tongxunlu",data:function(){return{departData:[],departkey:[],status:[{value:"1",label:"在职"},{value:"2",label:"休假"},{value:"3",label:"锁定"},{value:"4",label:"离职"},{value:"5",label:"开除"}],statuskey:"",keyword:"",topbutton:[],exporturl:api_param.apiurl+"maillist/export?token="+api_param.XAccessToken,totalnum:0,currentpage:1,showstatus:0,columns:[{title:"姓名",key:"u_name",align:"center"},{title:"员工编号",key:"u_employee_id",align:"center"},{title:"性别",key:"u_sex_text",align:"center"},{title:"电话",key:"u_phone",align:"center"},{title:"职务",key:"role_name",align:"center"},{title:"状态",key:"u_status_text",align:"center"},{title:"入职时间",key:"ctime",align:"center"}],listData:[]}},created:function(){this.getOptions(),this.getIndex()},methods:{getOptions:function(){this.$http.get(api_param.apiurl+"maillist/getsetting",{params:{},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?(this.departData=t.data.data.departlist,this.topbutton=t.data.data.topbutton):401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)})},getIndex:function(){this.$http.get(api_param.apiurl+"maillist/getindex",{params:{did:this.departkey,sid:this.statuskey,kw:this.keyword,page:this.currentpage},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?(this.showstatus=t.data.data.showstatus,this.totalnum=parseInt(t.data.data.totalnum),this.listData=t.data.data.userlist):401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)})},searchDepart:function(t,e){this.departkey=t[t.length-1]},doSearch:function(){this.currentpage=1,this.getIndex()},clearSearch:function(){this.departkey="",this.rolekey="",this.statuskey="",this.keyword="",this.getIndex()},changePage:function(t){this.currentpage=t,this.getIndex()}}}},722:function(t,e,a){var n=a(723);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(8)("396b98d2",n,!1,{})},723:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.marginLeft[data-v-5a687b51]{\n    margin-left: 10px;\n}\n.marginRight[data-v-5a687b51]{\n    margin-right: 10px;\n}\n.marginBottom[data-v-5a687b51]{\n    margin-bottom: 10px;\n}\n",""])},724:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Col",{staticClass:"marginBottom",attrs:{lg:24,md:24}},[a("Card",[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{lg:3,md:3}},[a("Cascader",{attrs:{data:t.departData,value:t.departkey,filterable:"","change-on-select":""},on:{"update:value":function(e){t.departkey=e},"on-change":t.searchDepart}})],1),t._v(" "),1==t.showstatus?a("Col",{attrs:{lg:2,md:2}},[a("Select",{attrs:{"label-in-value":!0,placeholder:"状态选择"},model:{value:t.statuskey,callback:function(e){t.statuskey=e},expression:"statuskey"}},t._l(t.status,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1):t._e(),t._v(" "),a("Col",{attrs:{lg:3,md:3}},[a("Input",{attrs:{placeholder:"员工名称"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t._v(" "),a("Col",{attrs:{lg:4,md:4}},[a("Button",{attrs:{type:"primary"},on:{click:t.doSearch}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.clearSearch}},[t._v("清空")])],1),t._v(" "),a("Col",{attrs:{lg:2,md:2,offset:"10"}},[a("Row",{attrs:{type:"flex",justify:"end"}},[a("Col",[1==t.topbutton.export?a("Button",{attrs:{type:"primary"}},[a("a",{staticStyle:{color:"#fff"},attrs:{href:t.exporturl,target:"_blank"}},[t._v("导出")])]):t._e()],1)],1)],1)],1)],1)],1),t._v(" "),a("Col",{attrs:{lg:24,md:24}},[a("Card",[a("Table",{attrs:{columns:t.columns,data:t.listData,border:""}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.totalnum,current:t.currentpage,"page-size":10,"show-total":""},on:{"on-change":t.changePage}})],1)])],1)],1)],1)},s=[];n._withStripped=!0;var r={render:n,staticRenderFns:s};e.default=r}});