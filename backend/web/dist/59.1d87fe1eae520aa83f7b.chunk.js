webpackJsonp([59],{281:function(n,t,e){"use strict";function a(n){c||e(743)}Object.defineProperty(t,"__esModule",{value:!0});var i=e(516),r=e.n(i);for(var s in i)"default"!==s&&function(n){e.d(t,n,function(){return i[n]})}(s);var o=e(745),l=e.n(o),c=!1,d=e(0),p=a,m=d(r.a,l.a,!1,p,"data-v-8f67c480",null);m.options.__file="src/views/check-work/work-moban.vue",t.default=m.exports},516:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"workMoban",data:function(){var n=this;return{chuqin:!1,columns:[{title:"考勤名称",key:"kq_tp_name",align:"center"},{title:"考勤天数",key:"kq_tp_days",align:"center"},{title:"上班时间",key:"kq_tp_st",align:"center"},{title:"下班时间",key:"kq_tp_ed",align:"center"},{title:"操作",key:"caozuo",width:150,align:"center",render:function(t,e){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){n.formValidate.kq_tp_id=e.row.kq_tp_id,n.formValidate.kq_tp_name=e.row.kq_tp_name,n.formValidate.kq_tp_days=e.row.kq_tp_days.split(","),n.formValidate.kq_tp_timerange=[e.row.kq_tp_st,e.row.kq_tp_ed],n.chuqin=!0}}},"编辑"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){n.chuqinDel(e.row.kq_tp_id)}}},"删除")])}}],data:[],formValidate:{kq_tp_id:"",kq_tp_name:"",kq_tp_days:["周一","周二","周三","周四","周五"],kq_tp_timerange:["09:00","18:00"]},ruleValidate:{kq_tp_name:[{required:!0,message:"请填写考勤名称",trigger:"blur"}],kq_tp_days:[{required:!0,message:"请选择考勤天数",trigger:"blur"}],kq_tp_timerange:[{required:!0,message:"请选择上班天数",trigger:"blur"}]},currentpage:1,pagesize:10,total:0}},created:function(){this.getIndex()},methods:{changePage:function(n){this.currentpage=n,this.getIndex()},getIndex:function(){this.$http.get(api_param.apiurl+"oakaoqingtpl/getlist",{params:{page:this.currentpage,pagesize:10},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(n){200==n.data.code?(this.total=n.body.data.totalnum,this.data=n.data.data.list):401==n.data.code?(this.$store.commit("logout",this),this.$router.push({name:"login"})):this.$Message.warning(n.data.message)},function(n){console.log(n)})},selectTimerange:function(n){this.formValidate.kq_tp_timerange=n},clearTimerange:function(n){this.formValidate.kq_tp_timerange=[]},openChuqin:function(){this.chuqin=!0,this.formValidate={kq_tp_id:"",kq_tp_name:"",kq_tp_days:["周一","周二","周三","周四","周五"],kq_tp_timerange:["09:00","18:00"]}},chuqinOk:function(){var n=this;this.$refs.formValidate.validate(function(t){if(t){var e=api_param.apiurl+"/oakaoqingtpl/add";n.formValidate.kq_tp_id&&(e=api_param.apiurl+"/oakaoqingtpl/edit"),n.$http.post(e,{kq_tp_id:n.formValidate.kq_tp_id,kq_tp_name:n.formValidate.kq_tp_name,kq_tp_days:n.formValidate.kq_tp_days,kq_tp_timerange:n.formValidate.kq_tp_timerange},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(n){200==n.data.code?(this.$refs.formValidate.resetFields(),this.chuqin=!1,this.$Message.success(n.data.message),this.getIndex()):401==n.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(n.data.message)},function(n){this.$Message.warning("更新失败")})}})},chuqinCancel:function(){this.$refs.formValidate.resetFields(),this.chuqin=!1},chuqinDel:function(n){this.$http.post(api_param.apiurl+"/oakaoqingtpl/del",{kq_tp_id:n},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(n){200==n.data.code?(this.$refs.formValidate.resetFields(),this.chuqin=!1,this.$Message.success(n.data.message),this.getIndex()):401==n.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(n.data.message)},function(n){this.$Message.warning("更新失败")})}}}},743:function(n,t,e){var a=e(744);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e(8)("2f63eb97",a,!1,{})},744:function(n,t,e){t=n.exports=e(7)(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},745:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("Card",[e("Row",{attrs:{type:"flex",justify:"end"}},[e("Col",[e("Button",{attrs:{type:"primary"},on:{click:n.openChuqin}},[n._v("新增")])],1)],1)],1)],1),n._v(" "),e("Col",{staticStyle:{"margin-top":"10px"},attrs:{lg:24,md:24}},[e("Card",[e("Table",{attrs:{border:"",columns:n.columns,data:n.data}}),n._v(" "),e("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[e("div",{staticStyle:{float:"right"}},[e("Page",{attrs:{total:n.total,current:n.currentpage,"page-size":n.pageSize,"show-total":""},on:{"on-change":n.changePage}})],1)])],1)],1),n._v(" "),e("Modal",{attrs:{title:"编辑考勤类型",width:"350","mask-closable":!1},model:{value:n.chuqin,callback:function(t){n.chuqin=t},expression:"chuqin"}},[e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text",size:"large"},on:{click:n.chuqinCancel}},[n._v("取消")]),n._v(" "),e("Button",{attrs:{type:"primary",size:"large"},on:{click:n.chuqinOk}},[n._v("确定")])],1),n._v(" "),e("Form",{ref:"formValidate",attrs:{model:n.formValidate,rules:n.ruleValidate,"label-width":80}},[e("FormItem",{attrs:{label:"考勤名称",prop:"name"}},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:n.formValidate.kq_tp_name,callback:function(t){n.$set(n.formValidate,"kq_tp_name",t)},expression:"formValidate.kq_tp_name"}})],1),n._v(" "),e("FormItem",{attrs:{label:"考勤天数",prop:"name"}},[e("CheckboxGroup",{model:{value:n.formValidate.kq_tp_days,callback:function(t){n.$set(n.formValidate,"kq_tp_days",t)},expression:"formValidate.kq_tp_days"}},[e("Checkbox",{attrs:{label:"周一"}}),n._v(" "),e("Checkbox",{attrs:{label:"周二"}}),n._v(" "),e("Checkbox",{attrs:{label:"周三"}}),n._v(" "),e("Checkbox",{attrs:{label:"周四"}}),n._v(" "),e("Checkbox",{attrs:{label:"周五"}}),n._v(" "),e("Checkbox",{attrs:{label:"周六"}}),n._v(" "),e("Checkbox",{attrs:{label:"周日"}})],1)],1),n._v(" "),e("FormItem",{attrs:{label:"上班时间",prop:"time"}},[e("TimePicker",{staticStyle:{width:"200px"},attrs:{format:"HH:mm",type:"timerange",placement:"bottom-end",placeholder:"选择时间段",value:n.formValidate.kq_tp_timerange},on:{"on-change":n.selectTimerange,"on-clear":n.clearTimerange}})],1)],1)],1)],1)},i=[];a._withStripped=!0;var r={render:a,staticRenderFns:i};t.default=r}});