webpackJsonp([52],{297:function(t,a,e){"use strict";function o(t){d||e(805)}Object.defineProperty(a,"__esModule",{value:!0});var s=e(535),i=e.n(s);for(var r in s)"default"!==r&&function(t){e.d(a,t,function(){return s[t]})}(r);var n=e(807),l=e.n(n),d=!1,c=e(0),m=o,p=c(i.a,l.a,!1,m,"data-v-37894270",null);p.options.__file="src/views/department/company/company.vue",a.default=p.exports},535:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"company",data:function(){var t=this,a=function(a,e,o){e==t.current_d_id?o(new Error("部门归属不可为自身!")):o()};return{storeColumns:[{title:"门店",key:"d_name",align:"center",render:function(t,a){var e="";return e=0==a.row.contract_money?a.row.d_name+"（试用）":a.row.d_name,t("div",{props:{}},e)}},{title:"套餐",key:"contract_version",align:"center"},{title:"开通时间",key:"contract_start",align:"center"},{title:"到期时间",key:"contract_end",align:"center"},{title:"操作",key:"action",width:150,align:"center",render:function(a,e){var o="";return o=0==e.row.contract_money?"充值":"续费",a("div",[a("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.store_id=e.row.depart_store_id,t.pay_money="门店版"==t.company_store.contract_version?800:3800,t.store_name=e.row.d_name,t.prePay=!0}}},o)])}}],addNumber:!1,formValidate:{occ_name:"",occ_tel:""},company:[],ruleValidate:{occ_tel:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(t,a,e,o,s){var i=[];/^1[345789]\d{9}$/.test(a)||e("请输入正确的手机号码!"),e(i)}}],occ_name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},storeNum:0,departmodal:!1,district:[],departtype:[],departvalue:[],departchoose:[],principalchoose:[],current_d_id:"",formDepartValidate:{d_id:"",d_name:"",d_type:2,d_level:1,d_pid:"",d_pid_name:"",d_phone:"",d_district:"",d_address:"",d_principal:"",d_principal_id:"",contract_version:"",agreement:["协议"],amount:""},ruleDepartValidate:{d_name:[{required:!0,message:"请输入部门名",trigger:"blur"}],d_type:[{required:!0,message:"请选择部门类型",trigger:"change"}],d_phone:[{required:!0,message:"请输入电话或手机号",trigger:"blur"},{validator:function(t,a,e,o,s){var i=[];/^(13[0-9]|14[5-9]|15[012356789]|166|17[0-8]|18[0-9]|19[8-9])[0-9]{8}$/.test(a)||e("请输入正确的电话或手机号"),e(i)}}],d_pid:[{required:!0,validator:a,trigger:"blur"}],d_district:[{required:!0,message:"请选择部门区域",trigger:"blur"}],contract_version:[{required:!0,message:"请选择签约套餐",trigger:"change"}],agreement:[{required:!0,type:"array",min:1,message:"请先阅读并同意用户使用协议",trigger:"change"}]},prePay:!1,upgrade:!1,addPay:!1,addPaypiao:!1,store_type:0,store_id:0,contract_version:"",store_name:"",pay_money:"",agreement:!0,order_sn:"",company_store:{contract_version:""},paystatus:{status:1},paymessage:{data:""},afterpay:{data:0},qrurl:"",qrcodeurl:{url:""},querycount:0,stopquery:0,formPiaoValidate:{name:"",number:"",address:"",phone:""},rulePiaoValidate:{name:[{required:!0,message:"请输入单位名称",trigger:"blur"}],number:[{required:!0,message:"请输入纳税人识别号",trigger:"blur"}],address:[{required:!0,message:"请输入公司地址",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(t,a,e,o,s){var i=[];/^1[345789]\d{9}$/.test(a)||e("请输入正确的手机号码!"),e(i)}}]}}},created:function(){this.getIndex()},methods:{getIndex:function(){this.$http.get(api_param.apiurl+"company/index",{params:{d_id:this.searchkey},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){var a=this;200==t.data.code?(this.company=t.data.data.company,this.storeNum=t.data.data.company.contract.length,this.storeNum>0?1==this.storeNum&&0==t.data.data.company.contract[0].contract_money?(this.store_type=1,this.$set(this.company_store,"contract_version",t.data.data.company.contract[0].contract_version)):1==this.storeNum&&t.data.data.company.contract[0].contract_money>0?(this.store_type=2,this.$set(this.company_store,"contract_version",t.data.data.company.contract[0].contract_version)):(this.store_type=2,t.data.data.company.contract.forEach(function(t,e){0==t.contract_money?a.store_type=3:a.$set(a.company_store,"contract_version",t.contract_version)})):(this.store_type=1,this.$set(this.company_store,"contract_version","门店版"))):401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)})},addtel:function(t){1==t?(this.formValidate.occ_id="",this.addNumber=!0):(this.formValidate.occ_name=t.occ_name,this.formValidate.occ_tel=t.occ_tel,this.formValidate.occ_id=t.occ_id,this.addNumber=!0)},modalCancel:function(){this.addNumber=!1,this.$refs.formValidate.resetFields(),this.getIndex()},modalOk:function(){var t=this,a={occ_name:this.formValidate.occ_name,occ_tel:this.formValidate.occ_tel,occ_id:this.formValidate.occ_id};this.$refs.formValidate.validate(function(e){e&&t.$http.post(api_param.apiurl+"/company/addtel",a,{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){this.$Message.success(t.data.message),this.modalCancel()},function(t){this.modalCancel(),this.$Message.warning("更新失败")})})},remove:function(t){var a=this;this.$Modal.confirm({title:"删除联系人",content:"确定要删除吗",okText:"确定",cancelText:"取消",onOk:function(){a.$http.post(api_param.apiurl+"/company/deltel",{occ_id:t.occ_id},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?(this.$Message.success(t.data.message),this.getIndex()):401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){this.$Message.warning("删除失败")})}})},adddepart:function(){this.$refs.formDepartValidate.resetFields(),this.departmodeltitle="新增部门",this.formDepartValidate.d_id="",this.formDepartValidate.d_name="",this.formDepartValidate.d_type="2",this.formDepartValidate.d_pid="",this.formDepartValidate.d_pid_name="",this.formDepartValidate.d_phone="",this.formDepartValidate.d_district="",this.formDepartValidate.d_address="",this.formDepartValidate.d_principal="",this.formDepartValidate.d_principal_id="",this.formDepartValidate.contract_version=this.company_store.contract_version,this.current_d_id="",this.departvalue=[],this.departmodal=!0,console.log(this.formDepartValidate)},modalDepartOk:function(){var t=this;this.$refs.formDepartValidate.validate(function(a){a&&t.addStorePay()})},modalDepartCancel:function(){this.departmodal=!1,this.$refs.formDepartValidate.resetFields()},handleChange:function(t,a){this.formDepartValidate.d_pid=t[t.length-1],this.formDepartValidate.d_pid_name=a[t.length-1].label,this.formDepartValidate.d_level=parseInt(t.length)+1,this.getUser(this.formDepartValidate.d_pid)},getUser:function(t){this.$http.post(api_param.apiurl+"depart/getuser",{d_id:t},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?this.principalchoose=t.data.data:401==t.data.code&&(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"}))},function(t){console.log(t)})},upgradeModal:function(){this.upgrade=!0},modalUpgradeCancel:function(){this.upgrade=!1,this.contract_version="",this.store_name="",this.pay_money=0,this.agreement=!0},upgradePay:function(){if(this.querycount=0,this.stopquery=0,0==this.agreement)return this.$Message.warning("请先阅读并同意用户使用协议!"),!1;this.$http.post(api_param.apiurl+"payment/unified",{order_title:"耕磊房产系统升级到专业版",contract_version:"专业版",amount:3e3*this.storeNum,upgrade:1},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){if(200==t.data.code){this.is_upgrade=1,this.qrurl=t.data.data.qrurl,this.$set(this.qrcodeurl,"url",api_param.apiurl+"payment/qrcode?url="+this.qrurl),this.order_sn=t.data.data.order_sn,this.addPay=!0;var a=this;setTimeout(function(){a.queryOrder()},500)}else 401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)})},modalPrepayCancel:function(){this.prePay=!1,this.store_id=0,this.contract_version="",this.store_name="",this.pay_money=0,this.agreement=!0},modalPayCancel:function(){this.addPay=!1,this.querycount=-1,this.stopquery=1,this.$set(this.paystatus,"status",1),this.$set(this.paymessage,"data",""),this.modalDepartCancel(),this.modalUpgradeCancel(),this.modalPrepayCancel(),this.getIndex()},addStorePay:function(){this.querycount=0,this.stopquery=0,this.formDepartValidate.d_pid=void 0==this.formDepartValidate.d_pid?0:this.formDepartValidate.d_pid,this.formDepartValidate.d_pid_name=0==this.formDepartValidate.d_pid?"":this.formDepartValidate.d_pid_name,this.formDepartValidate.amount="门店版"==this.formDepartValidate.contract_version?800:3800,this.$http.post(api_param.apiurl+"payment/unified",{d_id:this.formDepartValidate.d_id,d_name:this.formDepartValidate.d_name,d_type:this.formDepartValidate.d_type,d_level:this.formDepartValidate.d_level,d_pid:this.formDepartValidate.d_pid,d_pid_name:this.formDepartValidate.d_pid_name,d_phone:this.formDepartValidate.d_phone,d_district:this.formDepartValidate.d_district,d_address:this.formDepartValidate.d_address,d_principal:this.formDepartValidate.d_principal,d_principal_id:this.formDepartValidate.d_principal_id,order_title:"耕磊房产系统"+this.formDepartValidate.contract_version,contract_version:this.formDepartValidate.contract_version,amount:this.formDepartValidate.amount},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){if(200==t.data.code){this.qrurl=t.data.data.qrurl,this.$set(this.qrcodeurl,"url",api_param.apiurl+"payment/qrcode?url="+this.qrurl),this.order_sn=t.data.data.order_sn,this.addPay=!0;var a=this;setTimeout(function(){a.queryOrder()},500)}else 401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)}),this.addPay=!0},renewalsPay:function(){if(this.querycount=0,this.stopquery=0,0==this.agreement)return this.$Message.warning("请先阅读并同意用户使用协议!!"),!1;this.$http.post(api_param.apiurl+"payment/unified",{order_title:"耕磊房产系统"+this.company_store.contract_version,contract_version:this.company_store.contract_version,store_id:this.store_id,store_name:this.store_name,amount:this.pay_money},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){if(200==t.data.code){this.qrurl=t.data.data.qrurl,this.$set(this.qrcodeurl,"url",api_param.apiurl+"payment/qrcode?url="+this.qrurl),this.order_sn=t.data.data.order_sn,this.addPay=!0;var a=this;setTimeout(function(){a.queryOrder()},500)}else 401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)}),this.addPay=!0},queryOrder:function(){0==this.stopquery?this.$http.post(api_param.apiurl+"payment/queryorder",{order_sn:this.order_sn,count:this.querycount},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){if(200==t.data.code)if(0==t.data.data)this.$set(this.paystatus,"status",2),this.$set(this.paymessage,"data",t.data.message),this.$set(this.afterpay,"data",1);else if(60==t.data.data)this.$set(this.paystatus,"status",2),this.$set(this.paymessage,"data",t.data.message),this.$set(this.afterpay,"data",2);else if(-1==t.data.data)this.addPay=!1,this.querycount=-1,this.$set(this.paystatus,"status",1),this.$set(this.paymessage,"data","");else{this.querycount=t.data.data;var a=this;setTimeout(function(){a.queryOrder()},500)}else if(204==t.data.code){this.querycount=t.data.data;var e=this;setTimeout(function(){e.queryOrder()},500)}else 400==t.data.code?(this.$set(this.paystatus,"status",2),this.$set(this.paymessage,"data",t.data.message),this.$set(this.afterpay,"data",2)):401==t.data.code&&(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"}))},function(t){console.log(t)}):(this.addPay=!1,this.querycount=-1,this.stopquery=1,this.$set(this.paystatus,"status",1),this.$set(this.paymessage,"data",""))},openPaypiao:function(){this.formPiaoValidate.name=this.company.invoice_name,this.formPiaoValidate.number=this.company.invoice_number,this.formPiaoValidate.address=this.company.invoice_address,this.formPiaoValidate.phone=this.company.invoice_phone,this.addPaypiao=!0},modalPiaoOk:function(){var t=this;this.$refs.formPiaoValidate.validate(function(a){a&&t.$http.post(api_param.apiurl+"/payment/addinvoice",{order_sn:t.order_sn,name:t.formPiaoValidate.name,number:t.formPiaoValidate.number,address:t.formPiaoValidate.address,phone:t.formPiaoValidate.phone},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){this.$Message.success(t.data.message),this.modalPiaoCancel()},function(t){this.modalPiaoCancel(),this.$Message.warning("更新失败")})})},modalPiaoCancel:function(){this.addPaypiao=!1,this.$refs.formPiaoValidate.resetFields()}}}},805:function(t,a,e){var o=e(806);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(8)("192c9b09",o,!1,{})},806:function(t,a,e){a=t.exports=e(7)(!1),a.push([t.i,"\n.prePay-main[data-v-37894270] {\n\t\tfont-size: 14px;\n\t\tline-height: 36px;\n}\n.prePay-main strong[data-v-37894270] {\n\t\tcolor: #ff0000;\n}\n.imgboxmain[data-v-37894270] {\n\t\ttext-align: center;\n}\n.imgboxmain-p[data-v-37894270] {\n\t\ttext-align: center;\n}\n.ivu-modal-footer[data-v-37894270] {\n\t\tborder-top: 0px solid #e9eaec !important;\n\t\tpadding: 12px 18px;\n\t\ttext-align: right;\n}\n\t/*.payok{\n\t\ttext-align: center;\n\t}\n\t.payok-p{\n\t\ttext-align: center;\n\t\tfont-size: 18px;\n\t}\n\t.paybtn{\n\t\ttext-align: center;\n    font-size: 18px;\n    margin-top: 10px;\n    text-decoration: underline;\n\t}*/\n.payok[data-v-37894270] {\n\t\twidth: 128px;\n\t\theight: 128px;\n\t\tmargin: 0px auto;\n\t\toverflow: hidden;\n}\n.payok img[data-v-37894270] {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tdisplay: block;\n}\n.payok-p[data-v-37894270] {\n\t\ttext-align: center;\n\t\tmargin-bottom: 20px;\n\t\tline-height: 24px;\n}\n.paybtn[data-v-37894270] {\n\t\ttext-align: center;\n\t\tmargin: 10px auto;\n}\n.imgboxmain[data-v-37894270] {\n\t\twidth: 148px;\n\t\theight: 148px;\n\t\tmargin: 20px auto;\n\t\toverflow: hidden;\n\t\tborder: #f5f5f5 1px solid;\n\t\tborder-radius: 3px;\n}\n.imgboxmain img[data-v-37894270] {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tdisplay: block;\n}\n.imgboxmain-p[data-v-37894270] {\n\t\ttext-align: center;\n\t\tmargin-bottom: 20px;\n\t\tline-height: 24px;\n}\n.tabzhongxin[data-v-37894270] {\n\t\tfont-size: 18px;\n\t\tfont-weight: bold;\n\t\tpadding: 20px;\n\t\ttext-align: center;\n}\n.tabboxtext[data-v-37894270] {\n\t\tpadding: 20px 40px 40px;\n\t\toverflow: hidden;\n}\n.tabboxmain[data-v-37894270] {\n\t\tborder: #e5e5e5 1px solid;\n\t\toverflow: hidden;\n}\n.tabboxmain1[data-v-37894270] {\n\t\tborder: #e5e5e5 1px solid;\n\t\toverflow: hidden;\n}\n.tabname[data-v-37894270] {\n\t\tline-height: 36px;\n\t\tfont-size: 14px;\n\t\tfont-weight: bold;\n}\n.tabname1[data-v-37894270] {\n\t\tline-height: 36px;\n\t\tfont-size: 14px;\n\t\tfont-weight: bold;\n}\n.tabname[data-v-37894270],\n\t.tabname1[data-v-37894270],\n\t.tabname-main[data-v-37894270],\n\t.tabname-main1[data-v-37894270] {\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\t\tfloat: left;\n\t\twidth: 100%;\n\t\toverflow: hidden;\n\t\ttext-align: center;\n\t\tdisplay: table;\n}\n.tabname li[data-v-37894270],\n\t.tabname-main li[data-v-37894270] {\n\t\twidth: 20%;\n\t\tpadding: 10px 0;\n\t\tline-height: 32px;\n\t\tborder-right: #e5e5e5 1px solid;\n\t\tdisplay: table-cell;\n\t\tvertical-align: middle;\n}\n.tabname1 li[data-v-37894270],\n\t.tabname-main1 li[data-v-37894270] {\n\t\twidth: 16.5%;\n\t\tpadding: 10px 0;\n\t\tline-height: 32px;\n\t\tborder-right: #e5e5e5 1px solid;\n\t\tdisplay: table-cell;\n\t\tvertical-align: middle;\n}\n.tabname-main1[data-v-37894270] {\n\t\tborder-top: #e5e5e5 1px solid;\n}\n.tabname1 li[data-v-37894270]:last-child,\n\t.tabname-main1 li[data-v-37894270]:last-child {\n\t\tborder-right: #ff0000 0px solid;\n}\n.tabxieyi[data-v-37894270] {\n\t\tpadding: 15px 40px;\n\t\toverflow: hidden;\n}\n.tabpay span[data-v-37894270] {\n\t\tcolor: #ff0000;\n\t\tfont-weight: bold;\n}\n.tabpay[data-v-37894270] {\n\t\ttext-align: center;\n\t\tbackground-color: #f5f5f5;\n\t\toverflow: hidden;\n\t\tline-height: 58px;\n}\n.tabxuanzhong[data-v-37894270] {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\twidth: 16px;\n\t\theight: 16px;\n}\n.tabweixin[data-v-37894270] {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tdisplay: block;\n\t\tmargin-right: 10px;\n\t\tfloat: left;\n}\n.tabkaipiao[data-v-37894270] {\n\t\toverflow: hidden;\n\t\tmargin: 20px 40px;\n}\n.tabbox[data-v-37894270] {\n\t\tborder: #2d8cf0 1px solid;\n\t\twidth: 128px;\n\t\tmargin: 15px 40px;\n\t\tborder-radius: 3px;\n\t\tpadding: 5px 10px;\n\t\tline-height: 32px;\n\t\toverflow: hidden;\n\t\tposition: relative;\n}\n.tabmain[data-v-37894270] {\n\t\tbackground: #f5f5f5;\n\t\tborder-left: #ff0000 1px solid;\n\t\tpadding-left: 10px;\n\t\tline-height: 38px;\n}\n.tabtext[data-v-37894270] {\n\t\tcolor: #999;\n\t\tmargin-bottom: 10px;\n}\n.company-detal[data-v-37894270] {\n\t\tline-height: 32px;\n}\n.addNewNumber[data-v-37894270] {\n\t\tcursor: pointer;\n\t\tcolor: #57a3f3;\n\t\ttext-decoration: underline;\n\t\toverflow: hidden;\n}\n.company-detal[data-v-37894270] {\n\t\tline-height: 36px;\n}\n.comp-left[data-v-37894270] {\n\t\ttext-align: right;\n\t\tpadding-right: 10px;\n}\n.comp-num[data-v-37894270] {\n\t\tcolor: #ff0000;\n}\n.comp-text[data-v-37894270] {\n\t\tcolor: #999;\n}\n",""])},807:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Card",[e("Row",[e("Col",{staticStyle:{"margin-top":"10px"},attrs:{lg:24,md:24}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"ios-film-outline"}}),t._v("\n\t\t\t\t公司信息\n\t\t\t")],1),t._v(" "),e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("Row",{staticClass:"company-detal"},[e("Col",{attrs:{lg:6,md:6}},[e("Row",[e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 当前版本：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:12,md:12}},[e("strong",[t._v(t._s(t.company_store.contract_version))])])],1)],1),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("Row",[e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 公司名称：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:12,md:12}},[t._v(" "+t._s(t.company.company_title)+"\n\t\t\t\t\t\t")])],1)],1),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("Row",[e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 所有城市：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:12,md:12}},[t._v(" "+t._s(t.company.province_title)+"-"+t._s(t.company.city_title)+"\n\t\t\t\t\t\t")])],1)],1),t._v(" "),e("Col",{attrs:{lg:24,md:24}},[e("Row",[e("Col",{staticClass:"comp-left",attrs:{lg:3,md:3}},[t._v(" 合作电话：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:18,md:18}},[e("Row",[t._l(t.company.companyPhone,function(a){return e("Col",{attrs:{lg:24,md:24}},[e("Row",[e("Col",{attrs:{lg:6,md:6}},[t._v(" 姓名："+t._s(a.occ_name)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:10,md:10}},[t._v(" 电话："+t._s(a.occ_tel)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("span",{staticClass:"addNewNumber",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.addtel(a)}}},[t._v("修改")]),t._v(" "),e("span",{staticClass:"addNewNumber",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.remove(a)}}},[t._v("删除")])])],1)],1)}),t._v(" "),e("Col",{attrs:{lg:24,md:24}},[e("Row",[e("Col",{attrs:{lg:3,md:3}},[e("span",{staticClass:"addNewNumber",on:{click:function(a){return t.addtel(1)}}},[t._v("新增")])])],1)],1)],2)],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("Col",{staticStyle:{"margin-top":"10px"},attrs:{lg:24,md:24}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"ios-film-outline"}}),t._v("\n\t\t\t\t门店信息\n\t\t\t")],1),t._v(" "),e("a",{attrs:{slot:"extra",href:"#"},slot:"extra"},[e("Button",{attrs:{type:"success"},on:{click:t.adddepart}},[t._v("新增")])],1),t._v(" "),e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("Table",{attrs:{border:"",columns:t.storeColumns,data:t.company.contract}})],1)],1)],1)],1),t._v(" "),e("Col",{staticStyle:{"margin-top":"10px"},attrs:{lg:24,md:24}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"ios-film-outline"}}),t._v("\n\t\t\t\t套餐信息\n\t\t\t")],1),t._v(" "),e("Row",[e("Col",{staticStyle:{"border-right":"#e5e5e5 1px solid","box-sizing":"border-box"},attrs:{lg:8,md:8}},[e("Row",{staticClass:"company-detal"},[e("Col",{staticClass:"tabzhongxin",attrs:{lg:24,md:24}},[t._v(" 门店版 - 尊享权益")]),t._v(" "),e("Col",{attrs:{lg:24,md:24}},[e("Row",[e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 每店可查看采集电话：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 200\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 每店可导入采集房源：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 150\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 新房项目报备：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 不限\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 外网合作房源：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 待定\n\t\t\t\t\t\t")])],1)],1)],1)],1),t._v(" "),e("Col",{staticStyle:{"border-right":"#e5e5e5 1px solid","box-sizing":"border-box"},attrs:{lg:8,md:8}},[e("Row",{staticClass:"company-detal"},[e("Col",{staticClass:"tabzhongxin",attrs:{lg:24,md:24}},[t._v(" 专业版 - 尊享权益")]),t._v(" "),e("Col",{attrs:{lg:24,md:24}},[e("Row",[e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 每店可查看采集电话：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 不限\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 每店可导入采集房源：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 不限\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 新房项目报备：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 不限\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 外网合作房源：\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 待定\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 专属小程序 ：")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 门店版\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 专属公众号 ：")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 门店版\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticClass:"comp-left",attrs:{lg:12,md:12}},[t._v(" 专属房产网站 ：")]),t._v(" "),e("Col",{staticClass:"comp-num",attrs:{lg:12,md:12}},[t._v(" 门店版\n\t\t\t\t\t\t")]),t._v(" "),2==this.store_type&&"门店版"==this.company_store.contract_version?e("Col",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{lg:24,md:24}},[e("Button",{attrs:{type:"error"},on:{click:t.upgradeModal}},[t._v("立即升级")])],1):t._e()],1)],1)],1)],1),t._v(" "),e("Col",{attrs:{lg:8,md:8}},[e("Row",{staticClass:"company-detal"},[e("Col",{staticClass:"tabzhongxin",attrs:{lg:24,md:24}},[t._v(" 私有云 - 独家定制")]),t._v(" "),e("Col",{attrs:{lg:24,md:24}},[e("Row",{staticStyle:{"text-align":"center"}},[e("Col",{attrs:{lg:24,md:24}},[t._v(" 专业版所有功能\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:24,md:24}},[t._v(" 企业定制组件\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:24,md:24}},[t._v(" 个性服务定制\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:24,md:24}},[t._v(" 阿里云/腾讯云双重数据安全加密\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:24,md:24}},[t._v(" 企业私有部署\n\t\t\t\t\t\t")]),t._v(" "),e("Col",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{lg:24,md:24}},[e("Button",{attrs:{type:"error"}},[t._v("立即咨询")])],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("Modal",{attrs:{title:"新增对外合作人",width:"480","label-width":80,closable:!1,"mask-closable":!1},on:{"on-ok":function(a){return t.handleSubmit("formValidate")},"on-cancel":function(a){return t.handleReset("formValidate")}},model:{value:t.addNumber,callback:function(a){t.addNumber=a},expression:"addNumber"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",staticStyle:{display:"block!important"},on:{click:t.modalCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v("新增对外合作人")])]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text",size:"large"},on:{click:t.modalCancel}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{type:"primary",size:"large"},on:{click:t.modalOk}},[t._v("确定")])],1),t._v(" "),e("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":66}},[e("FormItem",{attrs:{label:"姓名",prop:"occ_name"}},[e("Input",{attrs:{placeholder:""},model:{value:t.formValidate.occ_name,callback:function(a){t.$set(t.formValidate,"occ_name",a)},expression:"formValidate.occ_name"}})],1),t._v(" "),e("FormItem",{attrs:{label:"电话",prop:"occ_tel"}},[e("Input",{attrs:{placeholder:""},model:{value:t.formValidate.occ_tel,callback:function(a){t.$set(t.formValidate,"occ_tel",a)},expression:"formValidate.occ_tel"}})],1)],1)],1),t._v(" "),e("Modal",{attrs:{title:t.departmodeltitle,"mask-closable":!1},model:{value:t.departmodal,callback:function(a){t.departmodal=a},expression:"departmodal"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",on:{click:t.modalDepartCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v(t._s(t.departmodeltitle))])]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text",size:"large"},on:{click:t.modalDepartCancel}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{type:"primary",size:"large"},on:{click:t.modalDepartOk}},[t._v("确定")])],1),t._v(" "),e("Form",{ref:"formDepartValidate",staticStyle:{padding:"16px 40px"},attrs:{model:t.formDepartValidate,rules:t.ruleDepartValidate,"label-width":80}},[e("FormItem",{attrs:{label:"部门名称",prop:"d_name"}},[e("Input",{attrs:{placeholder:"请输入部门名称"},model:{value:t.formDepartValidate.d_name,callback:function(a){t.$set(t.formDepartValidate,"d_name",a)},expression:"formDepartValidate.d_name"}})],1),t._v(" "),e("FormItem",{attrs:{label:"部门类型",prop:"d_type"}},[e("Select",{attrs:{transfer:!1,disabled:""},model:{value:t.formDepartValidate.d_type,callback:function(a){t.$set(t.formDepartValidate,"d_type",a)},expression:"formDepartValidate.d_type"}},t._l(t.company.departtype,function(a,o){return e("Option",{key:o,attrs:{value:o}},[t._v(t._s(a)+"\n\t\t\t\t\t\t")])}),1)],1),t._v(" "),"总经办"!=t.formDepartValidate.d_name?e("FormItem",{attrs:{label:"部门所属",prop:"d_pid"}},[e("Cascader",{attrs:{data:t.company.departchoose,value:t.departvalue,"change-on-select":"",transfer:!1},on:{"update:value":function(a){t.departvalue=a},"on-change":t.handleChange}})],1):t._e(),t._v(" "),e("FormItem",{attrs:{label:"电话",prop:"d_phone"}},[e("Input",{attrs:{placeholder:"请输入联系电话"},model:{value:t.formDepartValidate.d_phone,callback:function(a){t.$set(t.formDepartValidate,"d_phone",a)},expression:"formDepartValidate.d_phone"}})],1),t._v(" "),e("FormItem",{attrs:{label:"部门区域",prop:"d_district"}},[e("Select",{attrs:{transfer:!1,filterable:""},model:{value:t.formDepartValidate.d_district,callback:function(a){t.$set(t.formDepartValidate,"d_district",a)},expression:"formDepartValidate.d_district"}},t._l(t.company.district,function(a,o){return e("Option",{key:a.dts_id,attrs:{value:a.dts_id}},[t._v(t._s(a.dts_name)+"\n\t\t\t\t\t\t")])}),1)],1),t._v(" "),e("FormItem",{attrs:{label:"地址",prop:"d_address"}},[e("Input",{attrs:{placeholder:"请输入部门地址"},model:{value:t.formDepartValidate.d_address,callback:function(a){t.$set(t.formDepartValidate,"d_address",a)},expression:"formDepartValidate.d_address"}})],1),t._v(" "),e("FormItem",{attrs:{label:"部门主管",prop:"d_principal_id"}},[e("Select",{attrs:{"label-in-value":!0,transfer:!1,filterable:""},on:{"on-change":t.selectChange},model:{value:t.formDepartValidate.d_principal_id,callback:function(a){t.$set(t.formDepartValidate,"d_principal_id",a)},expression:"formDepartValidate.d_principal_id"}},t._l(t.principalchoose,function(a){return e("Option",{key:a.u_id,attrs:{value:a.u_id}},[t._v(t._s(a.u_name)+" ")])}),1)],1),t._v(" "),t.formDepartValidate.d_id?t._e():e("FormItem",{attrs:{label:"签约套餐",prop:"contract_version"}},[e("Select",{attrs:{transfer:!1,disabled:""},model:{value:t.formDepartValidate.contract_version,callback:function(a){t.$set(t.formDepartValidate,"contract_version",a)},expression:"formDepartValidate.contract_version"}},[e("Option",{attrs:{value:"门店版"}},[t._v("门店版(800元) ")]),t._v(" "),e("Option",{attrs:{value:"专业版"}},[t._v("专业版(3800元) ")])],1)],1),t._v(" "),t.formDepartValidate.d_id?t._e():e("FormItem",{attrs:{label:"",prop:"agreement"}},[e("Checkbox-group",{model:{value:t.formDepartValidate.agreement,callback:function(a){t.$set(t.formDepartValidate,"agreement",a)},expression:"formDepartValidate.agreement"}},[e("Checkbox",{attrs:{label:"协议"}},[t._v("我已阅读并同意《耕磊房产系统收费产品用户使用协议》")])],1)],1)],1)],1),t._v(" "),e("Modal",{attrs:{title:"微信支付",width:"480","label-width":80,closable:!1,"mask-closable":!1},model:{value:t.addPay,callback:function(a){t.addPay=a},expression:"addPay"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",staticStyle:{display:"block!important"},on:{click:t.modalPayCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v("微信支付")])]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"}),t._v(" "),1==t.paystatus.status?e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("div",{staticClass:"imgboxmain"},[e("img",{attrs:{src:t.qrcodeurl.url}})]),t._v(" "),e("p",{staticClass:"imgboxmain-p"},[t._v("扫描二维码立即支付")])])],1):2==t.paystatus.status?e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("div",{staticClass:"payok"},[e("img",{attrs:{src:"/src/images/payok.png"}})]),t._v(" "),e("p",{staticClass:"payok-p"},[t._v(t._s(t.paymessage.data))])])],1):t._e()],1),t._v(" "),e("Modal",{attrs:{title:"支付信息确认",width:"480","label-width":80,"mask-closable":!1,transfer:!1},model:{value:t.prePay,callback:function(a){t.prePay=a},expression:"prePay"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",staticStyle:{display:"block!important"},on:{click:t.modalPrepayCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v("支付信息确认")])]),t._v(" "),e("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[e("Button",{staticStyle:{width:"140px"},attrs:{type:"info"},on:{click:t.renewalsPay}},[t._v("去支付")])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v("当前版本：")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v(t._s(t.company_store.contract_version))])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v("充值门店：")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v(t._s(t.store_name))])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v("充值金额：")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v(t._s(t.pay_money)+"元")])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v("使用年限：")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v("1年")])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:18,md:18,offset:"3"}},[e("Checkbox",{model:{value:t.agreement,callback:function(a){t.agreement=a},expression:"agreement"}},[t._v("我已阅读并同意《耕磊房产系统收费产品用户使用协议》")])],1)],1)],1),t._v(" "),e("Modal",{attrs:{title:"升级套餐信息确认",width:"480","label-width":80,"mask-closable":!1,transfer:!1},model:{value:t.upgrade,callback:function(a){t.upgrade=a},expression:"upgrade"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",staticStyle:{display:"block!important"},on:{click:t.modalUpgradeCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v("支付信息确认")])]),t._v(" "),e("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[e("Button",{staticStyle:{width:"140px"},attrs:{type:"info"},on:{click:t.upgradePay}},[t._v("去支付")])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v("当前版本：")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v("门店版")])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v("升级版本：")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v("专业版")])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v("门店数量：")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v(t._s(t.storeNum)+"个")])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v("使用年限：")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v("1年")])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v("充值金额：")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v(t._s(3e3*t.storeNum)+"元")])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:18,md:18,offset:"3"}},[e("Checkbox",{model:{value:t.agreement,callback:function(a){t.agreement=a},expression:"agreement"}},[t._v("我已阅读并同意《耕磊房产系统收费产品用户使用协议》")])],1)],1)],1),t._v(" "),e("Modal",{attrs:{title:"发票信息",width:"480","label-width":80,closable:!1,"mask-closable":!1},model:{value:t.addPaypiao,callback:function(a){t.addPaypiao=a},expression:"addPaypiao"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",staticStyle:{display:"block!important"},on:{click:t.modalPiaoCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v("发票信息")])]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text",size:"large"},on:{click:t.modalPiaoCancel}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{type:"primary",size:"large"},on:{click:t.modalPiaoOk}},[t._v("确定")])],1),t._v(" "),e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("Form",{ref:"formPiaoValidate",attrs:{model:t.formPiaoValidate,rules:t.rulePiaoValidate,"label-width":88}},[e("Row",[e("Col",{attrs:{lg:12,md:12}},[e("FormItem",{attrs:{label:"单位名称",prop:"name"}},[e("Input",{attrs:{type:"text",placeholder:"单位名称与营业执照一致"},model:{value:t.formPiaoValidate.name,callback:function(a){t.$set(t.formPiaoValidate,"name",a)},expression:"formPiaoValidate.name"}})],1)],1),t._v(" "),e("Col",{attrs:{lg:12,md:12}},[e("FormItem",{attrs:{label:"纳税人识别号",prop:"number"}},[e("Input",{attrs:{type:"text",placeholder:"核对纳税人识别号信息"},model:{value:t.formPiaoValidate.number,callback:function(a){t.$set(t.formPiaoValidate,"number",a)},expression:"formPiaoValidate.number"}})],1)],1),t._v(" "),e("Col",{attrs:{lg:12,md:12}},[e("FormItem",{attrs:{label:"公司地址",prop:"address"}},[e("Input",{attrs:{type:"text",placeholder:"正确输入地址"},model:{value:t.formPiaoValidate.address,callback:function(a){t.$set(t.formPiaoValidate,"address",a)},expression:"formPiaoValidate.address"}})],1)],1),t._v(" "),e("Col",{attrs:{lg:12,md:12}},[e("FormItem",{attrs:{label:"联系电话",prop:"phone"}},[e("Input",{attrs:{type:"text",placeholder:"输入联系电话"},model:{value:t.formPiaoValidate.phone,callback:function(a){t.$set(t.formPiaoValidate,"phone",a)},expression:"formPiaoValidate.phone"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)},s=[];o._withStripped=!0;var i={render:o,staticRenderFns:s};a.default=i}});