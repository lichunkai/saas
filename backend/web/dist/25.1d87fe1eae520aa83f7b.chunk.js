webpackJsonp([25],{255:function(e,t,r){"use strict";function a(e){c||r(669)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(490),s=r.n(o);for(var n in o)"default"!==n&&function(e){r.d(t,e,function(){return o[e]})}(n);var i=r(671),l=r.n(i),c=!1,d=r(0),u=a,_=d(s.a,l.a,!1,u,"data-v-0dcb4d99",null);_.options.__file="src/views/bargain/bargain-sell/bargainSell.vue",t.default=_.exports},437:function(e,t,r){t=e.exports=r(7)(!1),t.push([e.i,".margin-10px{\r\n    margin-top:10px;\r\n}\r\n.saleState p {\r\n    float: left;\r\n    color: #999999;\r\n    width: 30px;\r\n}\r\n.saleState li{\r\n    float: left;\r\n    margin: 0 8px;\r\n    cursor: pointer;\r\n    color: #2d8cf0;\r\n}\r\n.saleState li:hover{\r\n    text-decoration: underline;\r\n}\r\n.state {\r\n    color: #ff0000 !important;\r\n}\r\n\r\n.ivu-table-cell{\r\n    padding: 0;\r\n}\r\n.CheckboxList label{\r\n    width: 110px;\r\n    margin: 8px 0;\r\n}\r\n\r\n\r\n.choiseDong{\r\n    margin-left: 10px;\r\n    cursor: pointer;\r\n}\r\n.line{\r\n    background: #e5e5e5;\r\n    width: 100%;\r\n    height: 1px;\r\n    margin: 10px 0;\r\n    overflow: hidden;\r\n}\r\n.ivu-modal-body{\r\n    max-height: 560px;\r\n    overflow-y: auto;\r\n}\r\n\r\n.ivu-modal{\r\n    top: 60px;\r\n}\r\n",""])},490:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(30),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={name:"bargainSell",data:function(){return{order_status:"",order_status_key:"",house_use:"",house_use_key:"",order_timechoose:"",order_timechoose_key:"",order_usertype:"",order_usertype_key:"",jgqj:"",jgqj_key:"",jiage:[],mjqj:"",mjqj_key:"",mianji:[],daterange:"",keyword:"",showList:!1,topbutton:0,exporturl:api_param.apiurl+"ordersell/export?token="+api_param.XAccessToken,totalnum:0,currentpage:1,listData:[],tableColumns:[],tableColumnsChecked:["order_status","order_sn","house_district","house_name","house_area","order_deal_date","order_deal_type","contract_image_num","order_price","order_deal_username","house_sn","customer_sn","customer_name"],defaultColumnsChecked:["order_status","order_sn","house_district","house_name","house_area","order_deal_date","order_deal_type","contract_image_num","order_price","order_deal_username","house_sn","customer_sn","customer_name"]}},created:function(){this.getSetting(),this.getIndex()},methods:{getIndex:function(){this.$http.get(api_param.apiurl+"ordersell/getindex",{params:{order_status:this.order_status_key,house_use:this.house_use_key,order_timechoose:this.order_timechoose_key,daterange:this.daterange,house_area:this.mianji,order_price:this.jiage,order_usertype_key:this.order_usertype_key,kw:this.keyword,page:this.currentpage},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(e){200==e.data.code?(this.totalnum=parseInt(e.data.data.totalnum),this.listData=e.data.data.listdata):401==e.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(e.data.message)},function(e){console.log(e)})},getSetting:function(){this.$http.get(api_param.apiurl+"ordersell/getsetting",{params:{},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(e){200==e.data.code?(this.order_status=e.data.data.order_status,this.house_use=e.data.data.house_use,this.order_timechoose=e.data.data.order_timechoose,this.order_usertype=e.data.data.order_usertype,this.jgqj=e.data.data.jgqj,this.mjqj=e.data.data.mjqj,this.topbutton=e.data.data.topbutton,e.data.data.customcolumns&&null!=e.data.data.customcolumns&&(this.tableColumnsChecked=e.data.data.customcolumns),this.changeTableColumns()):401==e.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(e.data.message)},function(e){console.log(e)})},selectDate:function(e){this.daterange=e},selectArea:function(e){this.mianji=e.split("-")},selectPrice:function(e){this.jiage=e.split("-")},doSearch:function(){this.currentpage=1,this.getIndex()},clearSearch:function(){this.order_status_key="",this.house_use_key="",this.order_timechoose_key="",this.order_usertype_key="",this.jgqj_key="",this.jiage=[],this.mjqj_key="",this.mianji=[],this.daterange="",this.keyword="",this.getIndex()},changePage:function(e){this.currentpage=e,this.getIndex()},getTableColumns:function(e){var t=this,r={index:{type:"index",width:60,align:"center",fixed:"left"},order_sn:{title:"合同编号",key:"order_sn",width:150,fixed:"left",align:"center",render:function(e,r){var a=[];return 1==r.row.is_jump?a.push(e("div",{props:{type:"error",size:"small"},style:{color:"#2d8cf0",textDecoration:"underline",cursor:"pointer"},domProps:{innerHTML:r.row.order_sn},on:{click:function(){var e={orderId:r.row.order_id};t.$router.push({name:"bargainDetails",params:e})}}})):a.push(e("div",{props:{type:"error",size:"small"},style:{cursor:"pointer"},domProps:{innerHTML:r.row.order_sn}})),e("div",a)}},order_status:{title:"订单状态",key:"order_status",width:88,align:"center"},order_price:{title:"成交价",key:"order_price",width:88,align:"center"},order_deal_date:{title:"成交日期",key:"order_deal_date",width:88,align:"center"},agreement_sn:{title:"协议编号",key:"agreement_sn",width:150,align:"center"},house_sn:{title:"房源编号",key:"owner_sn",width:128,align:"center"},customer_sn:{title:"客源编号",key:"customer_sn",width:128,align:"center"},order_deal_type:{title:"交易类型",key:"order_deal_type",width:128,align:"center",render:function(e,t){var r="";return 1==t.row.order_deal_type?r="本公司自有":2==t.row.order_deal_type?r="合作房源":3==t.row.order_deal_type?r="合作客源":4==t.row.order_deal_type&&(r="代办过户"),e("div",{props:{}},r)}},contract_image_num:{title:"签约值",key:"contract_image_num",width:128,align:"center",render:function(e,t){var r="";return r=4==t.row.contract_image_num?"是":"否",e("div",{props:{}},r)}},house_district:{title:"区域",key:"dts_name",width:88,align:"center"},house_name:{title:"小区",key:"house_name",width:88,align:"center"},customer_name:{title:"客户",key:"customer_name",width:88,align:"center"},house_area:{title:"面积",key:"house_area",width:88,align:"center"},order_deal_username:{title:"成交人",key:"order_deal_username",width:88,align:"center"},c_user:{title:"录入人",key:"c_user",width:88,align:"center"},u_user:{title:"维护人",key:"u_user",width:88,align:"center"},owner_name:{title:"业主",key:"owner_name",width:88,align:"center"}},a=[r.index];return 1==e?this.tableColumnsChecked.forEach(function(e){return a.push(r[e])}):(this.tableColumnsChecked=this.defaultColumnsChecked,this.defaultColumnsChecked.forEach(function(e){a.push(r[e])})),a},changeTableColumns:function(){this.tableColumns=this.getTableColumns(1)},resetColumns:function(){this.tableColumns=this.getTableColumns(2),this.$http.post(api_param.apiurl+"ordersell/customcolumns",{module:2,columns:(0,o.default)(this.defaultColumnsChecked)},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(e){200==e.data.code?(this.showList=!1,this.$Message.success("保存成功")):401==e.data.code&&(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"}))},function(e){console.log(e)})},saveColumns:function(){this.$http.post(api_param.apiurl+"ordersell/customcolumns",{module:2,columns:(0,o.default)(this.tableColumnsChecked)},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(e){200==e.data.code?(this.showList=!1,this.$Message.success("保存成功")):401==e.data.code&&(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"}))},function(e){console.log(e)})},toggleFav:function(e){this.listData[e].fav=0===this.listData[e].fav?1:0}},mounted:function(){this.changeTableColumns()}}},669:function(e,t,r){var a=r(670);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(8)("42b96694",a,!1,{})},670:function(e,t,r){t=e.exports=r(7)(!1),t.i(r(437),""),t.push([e.i,"\n.marginBottom[data-v-0dcb4d99] {\n    margin-bottom: 10px;\n}\n",""])},671:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",[r("Col",{staticClass:"marginBottom",attrs:{lg:24,md:24}},[r("Card",[r("Row",{staticClass:"marginBottom",attrs:{gutter:5}},[r("Col",{attrs:{lg:2,md:2}},[r("Select",{attrs:{placeholder:"合同状态",transfer:!0},model:{value:e.order_status_key,callback:function(t){e.order_status_key=t},expression:"order_status_key"}},e._l(e.order_status,function(t,a){return r("Option",{key:a,attrs:{value:t.child_name}},[e._v(e._s(t.child_name)+"\n                ")])}),1)],1),e._v(" "),r("Col",{attrs:{lg:3,md:3}},[r("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",value:e.daterange,format:"yyyy/MM/dd",placeholder:"选择时间段",transfer:!0},on:{"on-change":e.selectDate}})],1),e._v(" "),r("Col",{attrs:{lg:2,md:2}},[r("Select",{attrs:{placeholder:"面积",transfer:!0},on:{"on-change":e.selectArea},model:{value:e.mjqj_key,callback:function(t){e.mjqj_key=t},expression:"mjqj_key"}},e._l(e.mjqj,function(t,a){return r("Option",{key:a,attrs:{value:t.min+"-"+t.max}},[e._v(e._s(t.child_name)+"\n                ")])}),1)],1),e._v(" "),r("Col",{attrs:{lg:2,md:2}},[r("Select",{attrs:{placeholder:"价格",transfer:!0},on:{"on-change":e.selectPrice},model:{value:e.jgqj_key,callback:function(t){e.jgqj_key=t},expression:"jgqj_key"}},e._l(e.jgqj,function(t,a){return r("Option",{key:a,attrs:{value:t.min+"-"+t.max}},[e._v(e._s(t.child_name)+"\n                ")])}),1)],1),e._v(" "),r("Col",{attrs:{lg:4,md:4}},[r("Input",{attrs:{placeholder:"合同编号，房源编号、客源编号"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),r("Col",{attrs:{lg:3,md:3}},[r("Button",{attrs:{type:"primary"},on:{click:e.doSearch}},[e._v("查询")]),e._v(" "),r("Button",{attrs:{type:"primary"},on:{click:e.clearSearch}},[e._v("清空")])],1),e._v(" "),r("Col",{attrs:{lg:8,md:8}},[r("Row",{attrs:{type:"flex",justify:"end"}},[r("Col",[1==e.topbutton.export?r("Button",{attrs:{type:"primary"}},[r("a",{staticStyle:{color:"#fff"},attrs:{href:e.exporturl,target:"_blank"}},[e._v("导出")])]):e._e(),e._v(" "),r("Button",{attrs:{type:"primary"},on:{click:function(t){e.showList=!0}}},[e._v("自定义")]),e._v(" "),r("Modal",{attrs:{title:"自定义列表"},model:{value:e.showList,callback:function(t){e.showList=t},expression:"showList"}},[r("p",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("自定义列表")])]),e._v(" "),r("div",{staticClass:"CheckboxList"},[r("CheckboxGroup",{on:{"on-change":e.changeTableColumns},model:{value:e.tableColumnsChecked,callback:function(t){e.tableColumnsChecked=t},expression:"tableColumnsChecked"}},[r("Checkbox",{attrs:{label:"order_status"}},[e._v("合同状态")]),e._v(" "),r("Checkbox",{attrs:{label:"order_deal_date"}},[e._v("成交日期")]),e._v(" "),r("Checkbox",{attrs:{label:"order_sn"}},[e._v(" 合同编号")]),e._v(" "),r("Checkbox",{attrs:{label:"order_deal_type"}},[e._v("交易类型")]),e._v(" "),r("Checkbox",{attrs:{label:"contract_image_num"}},[e._v("签约值")]),e._v(" "),r("Checkbox",{attrs:{label:"house_sn"}},[e._v("房源编号")]),e._v(" "),r("Checkbox",{attrs:{label:"customer_sn"}},[e._v("客源编号")]),e._v(" "),r("Checkbox",{attrs:{label:"house_district"}},[e._v("区域")]),e._v(" "),r("Checkbox",{attrs:{label:"house_name"}},[e._v("小区")]),e._v(" "),r("Checkbox",{attrs:{label:"owner_name"}},[e._v("业主")]),e._v(" "),r("Checkbox",{attrs:{label:"customer_name"}},[e._v("客户")]),e._v(" "),r("Checkbox",{attrs:{label:"house_area"}},[e._v("面积")]),e._v(" "),r("Checkbox",{attrs:{label:"order_price"}},[e._v("成交价")]),e._v(" "),r("Checkbox",{attrs:{label:"order_deal_username"}},[e._v("成交人")]),e._v(" "),r("Checkbox",{attrs:{label:"agreement_sn"}},[e._v("协议编号")]),e._v(" "),r("Checkbox",{attrs:{label:"c_user"}},[e._v("录入人")]),e._v(" "),r("Checkbox",{attrs:{label:"u_user"}},[e._v("维护人")])],1)],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Row",{attrs:{type:"flex",justify:"space-between"}},[r("Col",[r("Button",{attrs:{type:"ghost",size:"large"},on:{click:e.resetColumns}},[e._v("恢复默认")])],1),e._v(" "),r("Col",[r("Button",{attrs:{type:"primary",size:"large"},on:{click:e.saveColumns}},[e._v("保存")])],1)],1)],1)])],1)],1)],1)],1)],1)],1),e._v(" "),r("Col",{attrs:{lg:24,md:24}},[r("Card",[r("Row",[r("Col",[r("Table",{attrs:{data:e.listData,columns:e.tableColumns,border:""}}),e._v(" "),r("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[r("div",{staticStyle:{float:"right"}},[r("Page",{attrs:{total:e.totalnum,current:e.currentpage,"show-total":""},on:{"on-change":e.changePage}})],1)])],1)],1)],1)],1)],1)},o=[];a._withStripped=!0;var s={render:a,staticRenderFns:o};t.default=s}});