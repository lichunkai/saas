webpackJsonp([17],{294:function(t,a,e){"use strict";function s(t){l||e(784)}Object.defineProperty(a,"__esModule",{value:!0});var i=e(529),r=e.n(i);for(var d in i)"default"!==d&&function(t){e.d(a,t,function(){return i[t]})}(d);var o=e(790),n=e.n(o),l=!1,c=e(0),p=s,m=c(r.a,n.a,!1,p,null,null);m.options.__file="src/views/department/management/department.vue",a.default=m.exports},529:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(786),i=function(t){return t&&t.__esModule?t:{default:t}}(s);a.default={name:"department_index",components:{departmentTable:i.default},data:function(){var t=this,a=function(a,e,s){e==t.current_d_id?s(new Error("部门归属不可为自身!")):s()};return{model1:"",topbutton:"",departmodal:!1,departmodeltitle:"新增部门",departtype:[],district:[],departlist:[],contract_version:"",is_disabled:!1,contract_storenum:"",searchkey:[],departvalue:[],departchoose:[],principalchoose:[],current_d_id:"",formValidate:{d_id:"",d_name:"",d_type:"",d_level:1,d_pid:"",d_pid_name:"",d_phone:"",d_district:"",d_address:"",d_principal:"",d_principal_id:"",contract_version:"",agreement:["协议"],amount:""},ruleValidate:{d_name:[{required:!0,message:"请输入部门名",trigger:"blur"}],d_type:[{required:!0,message:"请选择部门类型",trigger:"change"}],d_phone:[{required:!0,message:"请输入电话或手机号",trigger:"blur"},{validator:function(t,a,e,s,i){var r=[];/^(13[0-9]|14[5-9]|15[012356789]|166|17[0-8]|18[0-9]|19[8-9])[0-9]{8}$/.test(a)||e("请输入正确的电话或手机号"),e(r)}}],d_pid:[{validator:a,trigger:"blur"}],d_district:[{required:!0,message:"请选择部门区域",trigger:"blur"}],contract_version:[{required:!0,message:"请选择签约套餐",trigger:"change"}],agreement:[{required:!0,type:"array",min:1,message:"请先阅读并同意用户使用协议",trigger:"change"}]},principaldata:[],prePay:!1,addPay:!1,addPaypiao:!1,store_id:0,store_name:"",pay_money:"",agreement:!0,order_sn:"",paystatus:{status:1},paymessage:{data:""},afterpay:{data:0},qrurl:"",qrcodeurl:{url:""},querycount:0,stopquery:0}},created:function(){this.getIndex()},methods:{getIndex:function(){this.$http.get(api_param.apiurl+"depart/getindex",{params:{d_id:this.searchkey},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?(this.departtype=t.data.data.departtype,this.departlist=t.data.data.departlist,this.departchoose=t.data.data.departchoose,this.topbutton=t.data.data.topbutton,this.district=t.data.data.district,this.contract_version=t.data.data.contract_version,this.contract_storenum=t.data.data.contract_storenum):401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)})},editdepart:function(t){this.$refs.formValidate.resetFields(),this.departmodeltitle="修改部门",this.formValidate.d_id=t.d_id,this.formValidate.d_name=t.d_name,this.formValidate.d_type=t.d_type,this.formValidate.d_level=t.d_level,this.formValidate.d_phone=t.d_phone,this.formValidate.d_district=t.d_district,this.formValidate.d_address=t.d_address,this.departvalue=t.departpath,this.formValidate.d_pid=t.d_pid,this.formValidate.d_pid_name=t.d_pid_name,this.current_d_id=t.d_id,this.getUser(t.d_pid),this.formValidate.d_principal=t.d_principal,this.formValidate.d_principal_id=t.d_principal_id;var a=this;setTimeout(function(){a.departmodal=!0},300)},adddepart:function(){this.$refs.formValidate.resetFields(),this.departmodeltitle="新增部门",this.formValidate.d_id="",this.formValidate.d_name="",this.formValidate.d_type="",this.formValidate.d_pid="",this.formValidate.d_pid_name="",this.formValidate.d_phone="",this.formValidate.d_district="",this.formValidate.d_address="",this.formValidate.d_principal="",this.formValidate.d_principal_id="",this.current_d_id="",this.departvalue=[],0!=this.contract_storenum?(this.is_disabled=!0,this.formValidate.contract_version=this.contract_version):this.is_disabled=!1;var t=this;setTimeout(function(){t.departmodal=!0},300)},modalOk:function(){var t=this;this.$refs.formValidate.validate(function(a){if(a){var e="";t.formValidate.d_id?(e="depart/edit",t.editDepart(e)):t.gotoPay()}})},editDepart:function(t){this.formValidate.d_pid=void 0==this.formValidate.d_pid?0:this.formValidate.d_pid,this.formValidate.d_pid_name=0==this.formValidate.d_pid?"":this.formValidate.d_pid_name,this.$http.post(api_param.apiurl+t,{d_id:this.formValidate.d_id,d_name:this.formValidate.d_name,d_type:this.formValidate.d_type,d_level:this.formValidate.d_level,d_pid:this.formValidate.d_pid,d_pid_name:this.formValidate.d_pid_name,d_phone:this.formValidate.d_phone,d_district:this.formValidate.d_district,d_address:this.formValidate.d_address,d_principal:this.formValidate.d_principal,d_principal_id:this.formValidate.d_principal_id},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?(this.$refs.formValidate.resetFields(),this.departmodal=!1,this.$Message.success("更新成功"),this.getIndex()):401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)})},modalCancel:function(){this.departmodal=!1,this.$refs.formValidate.resetFields()},handleChange:function(t,a){this.formValidate.d_pid=t[t.length-1],this.formValidate.d_pid_name=a[t.length-1].label,this.formValidate.d_level=parseInt(t.length)+1,this.getUser(this.formValidate.d_pid)},getUser:function(t){this.$http.post(api_param.apiurl+"depart/getuser",{d_id:t},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?this.principalchoose=t.data.data:401==t.data.code&&(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"}))},function(t){console.log(t)})},selectChange:function(t){this.formValidate.d_principal=t.label,this.formValidate.d_principal_id=t.value},searchChange:function(t,a){this.searchkey=[t[t.length-1]]},clearSearch:function(){this.searchkey=[],this.getIndex()},modalPrepayCancel:function(){this.prePay=!1,this.store_id=0,this.contract_version="",this.store_name="",this.pay_money=0},gotoPay:function(){this.querycount=0,this.stopquery=0,this.formValidate.d_pid=void 0==this.formValidate.d_pid?0:this.formValidate.d_pid,this.formValidate.d_pid_name=0==this.formValidate.d_pid?"":this.formValidate.d_pid_name,this.formValidate.amount="门店版"==this.formValidate.contract_version?800:3800,this.$http.post(api_param.apiurl+"payment/unified",{d_id:this.formValidate.d_id,d_name:this.formValidate.d_name,d_type:this.formValidate.d_type,d_level:this.formValidate.d_level,d_pid:this.formValidate.d_pid,d_pid_name:this.formValidate.d_pid_name,d_phone:this.formValidate.d_phone,d_district:this.formValidate.d_district,d_address:this.formValidate.d_address,d_principal:this.formValidate.d_principal,d_principal_id:this.formValidate.d_principal_id,order_title:"耕磊房产系统"+this.formValidate.contract_version,contract_version:this.formValidate.contract_version,amount:this.formValidate.amount},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){if(200==t.data.code){this.qrurl=t.data.data.qrurl,this.$set(this.qrcodeurl,"url",api_param.apiurl+"payment/qrcode?url="+this.qrurl),this.order_sn=t.data.data.order_sn,this.addPay=!0;var a=this;setTimeout(function(){a.queryOrder()},500)}else 401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)}),this.addPay=!0},modalPayCancel:function(){this.addPay=!1,this.querycount=-1,this.stopquery=1,this.$set(this.paystatus,"status",1),this.$set(this.paymessage,"data",""),this.modalCancel(),this.getIndex()},queryOrder:function(){0==this.stopquery?this.$http.post(api_param.apiurl+"payment/queryorder",{order_sn:this.order_sn,count:this.querycount},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){if(200==t.data.code)if(0==t.data.data)this.$set(this.paystatus,"status",2),this.$set(this.paymessage,"data",t.data.message),this.$set(this.afterpay,"data",1);else if(60==t.data.data)this.$set(this.paystatus,"status",2),this.$set(this.paymessage,"data",t.data.message),this.$set(this.afterpay,"data",2);else if(-1==t.data.data)this.addPay=!1,this.querycount=-1,this.$set(this.paystatus,"status",1),this.$set(this.paymessage,"data","");else{this.querycount=t.data.data;var a=this;setTimeout(function(){a.queryOrder()},500)}else if(204==t.data.code){this.querycount=t.data.data;var e=this;setTimeout(function(){e.queryOrder()},500)}else 400==t.data.code?(this.$set(this.paystatus,"status",2),this.$set(this.paymessage,"data",t.data.message),this.$set(this.afterpay,"data",2)):401==t.data.code&&(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"}))},function(t){console.log(t)}):(this.addPay=!1,this.querycount=-1,this.stopquery=1,this.$set(this.paystatus,"status",1),this.$set(this.paymessage,"data",""))}},computed:{}}},530:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"departmentTable",props:["departlist","contract_version"],data:function(){var t=this;return{departmentPopup:!1,prePay:!1,addPay:!1,addPaypiao:!1,store_id:0,contract_version:"",store_name:"",pay_money:"",agreement:!0,order_sn:"",paystatus:{status:1},paymessage:{data:""},afterpay:{data:0},qrurl:"",qrcodeurl:{url:""},querycount:0,stopquery:0,columns:[{title:"部门名称",key:"d_show_name"},{title:"部门负责人",key:"d_principal",align:"center"},{title:"创建时间",key:"ctime",align:"center"},{title:"部门电话",key:"d_phone",align:"center"},{title:"区域",key:"dts_name",align:"center"},{title:"地址",key:"d_address",align:"center"},{title:"合同期限",key:"contract",align:"center",render:function(t,a){var e="";return e=null!=a.row.contract_start&&null!=a.row.contract_end?a.row.contract_start+"/"+a.row.contract_end:"---",t("div",{props:{}},e)}},{title:"操作",key:"button",align:"center",render:function(a,e){var s=[];if(1==e.row.button.edit&&s.push(a("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$emit("editdepart",e.row)}}},"编辑")),2==e.row.d_type){var i="";i=0!=e.row.contract_money?"续费":"充值",s.push(a("Button",{props:{type:"primary",size:"small"},on:{click:function(){t.store_id=e.row.d_id,t.pay_money="门店版"==t.contract_version?800:3800,t.store_name=e.row.d_name,t.prePay=!0}}},i))}return a("div",s)}}],formValidate:{name:"",mold:"",belongs:"",phone:"",address:"",director:""}}},methods:{modalPrepayCancel:function(){this.prePay=!1,this.store_id=0,this.store_name="",this.pay_money=0},gotoPay:function(){if(0==this.agreement)return this.$Message.warning("请先阅读并同意用户使用协议"),!1;this.querycount=0,this.stopquery=0,this.$http.post(api_param.apiurl+"payment/unified",{order_title:"耕磊房产系统门店版",contract_version:this.contract_version,store_id:this.store_id,store_name:this.store_name,amount:this.pay_money},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){if(200==t.data.code){this.qrurl=t.data.data.qrurl,this.$set(this.qrcodeurl,"url",api_param.apiurl+"payment/qrcode?url="+this.qrurl),this.order_sn=t.data.data.order_sn,this.addPay=!0;var a=this;setTimeout(function(){a.queryOrder()},500)}else 401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)}),this.addPay=!0},modalPayCancel:function(){this.addPay=!1,this.querycount=-1,this.stopquery=1,this.$set(this.paystatus,"status",1),this.$set(this.paymessage,"data",""),this.modalPrepayCancel(),this.$emit("getIndex")},queryOrder:function(){0==this.stopquery?this.$http.post(api_param.apiurl+"payment/queryorder",{order_sn:this.order_sn,count:this.querycount},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){if(200==t.data.code)if(0==t.data.data)this.$set(this.paystatus,"status",2),this.$set(this.paymessage,"data",t.data.message),this.$set(this.afterpay,"data",1);else if(60==t.data.data)this.$set(this.paystatus,"status",2),this.$set(this.paymessage,"data",t.data.message),this.$set(this.afterpay,"data",2);else if(-1==t.data.data)this.addPay=!1,this.querycount=-1,this.$set(this.paystatus,"status",1),this.$set(this.paymessage,"data","");else{this.querycount=t.data.data;var a=this;setTimeout(function(){a.queryOrder()},500)}else if(204==t.data.code){this.querycount=t.data.data;var e=this;setTimeout(function(){e.queryOrder()},500)}else 400==t.data.code?(this.$set(this.paystatus,"status",2),this.$set(this.paymessage,"data",t.data.message),this.$set(this.afterpay,"data",2)):401==t.data.code&&(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"}))},function(t){console.log(t)}):(this.addPay=!1,this.querycount=-1,this.stopquery=1,this.$set(this.paystatus,"status",1),this.$set(this.paymessage,"data",""))}}}},784:function(t,a,e){var s=e(785);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(8)("c7a4cfc6",s,!1,{})},785:function(t,a,e){a=t.exports=e(7)(!1),a.push([t.i,"/*部门管理*/\n.mui-table th {\n  text-align: center;\n}\n",""])},786:function(t,a,e){"use strict";function s(t){l||e(787)}Object.defineProperty(a,"__esModule",{value:!0});var i=e(530),r=e.n(i);for(var d in i)"default"!==d&&function(t){e.d(a,t,function(){return i[t]})}(d);var o=e(789),n=e.n(o),l=!1,c=e(0),p=s,m=c(r.a,n.a,!1,p,null,null);m.options.__file="src/views/department/management/department-table.vue",a.default=m.exports},787:function(t,a,e){var s=e(788);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(8)("7bbda85b",s,!1,{})},788:function(t,a,e){a=t.exports=e(7)(!1),a.push([t.i,"\n.prePay-main {\n  font-size: 14px;\n  line-height: 36px;\n}\n.prePay-main strong {\n  color: #ff0000;\n}\n.imgboxmain {\n  text-align: center;\n}\n.imgboxmain-p {\n  text-align: center;\n}\n.ivu-modal-footer {\n  border-top: 0px solid #e9eaec;\n  padding: 12px 18px;\n  text-align: right;\n}\n.payok {\n  text-align: center;\n}\n.payok-p {\n  text-align: center;\n  font-size: 18px;\n}\n.paybtn {\n  text-align: center;\n  font-size: 18px;\n  margin-top: 10px;\n  text-decoration: underline;\n}\n",""])},789:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mui-table"},[e("div",[e("Table",{attrs:{border:"",columns:t.columns,stripe:!0,"show-header":!0,data:t.departlist}})],1),t._v(" "),e("Modal",{attrs:{title:"支付信息确认",width:"480","label-width":80,"mask-closable":!1},model:{value:t.prePay,callback:function(a){t.prePay=a},expression:"prePay"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",staticStyle:{display:"block!important"},on:{click:t.modalPrepayCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v("支付信息确认")])]),t._v(" "),e("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[e("Button",{staticStyle:{width:"140px"},attrs:{type:"info"},on:{click:t.gotoPay}},[t._v("去支付")])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v(" 当前版本：\n\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v(t._s(t.contract_version))])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v(" 充值门店：\n\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v(t._s(t.store_name))])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v(" 充值金额：\n\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v(t._s(t.pay_money)+"元")])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:6,md:6,offset:"6"}},[t._v(" 使用年限：\n\n\t\t\t")]),t._v(" "),e("Col",{attrs:{lg:6,md:6}},[e("strong",[t._v("1年")])])],1),t._v(" "),e("Row",{staticClass:"prePay-main"},[e("Col",{attrs:{lg:18,md:18,offset:"3"}},[e("Checkbox",{model:{value:t.agreement,callback:function(a){t.agreement=a},expression:"agreement"}},[t._v("我已阅读并同意《耕磊房产系统收费产品用户使用协议》")])],1)],1)],1),t._v(" "),e("Modal",{attrs:{title:"微信支付",width:"480","label-width":80,"mask-closable":!1},model:{value:t.addPay,callback:function(a){t.addPay=a},expression:"addPay"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",staticStyle:{display:"block!important"},on:{click:t.modalPayCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v("微信支付")])]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"}),t._v(" "),1==t.paystatus.status?e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("div",{staticClass:"imgboxmain"},[e("img",{attrs:{src:t.qrcodeurl.url}})]),t._v(" "),e("p",{staticClass:"imgboxmain-p"},[t._v("扫描二维码立即支付")])])],1):2==t.paystatus.status?e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("div",{staticClass:"payok"},[e("img",{attrs:{src:"/src/images/payok.png"}})]),t._v(" "),e("p",{staticClass:"payok-p"},[t._v(t._s(t.paymessage.data))])])],1):t._e()],1)],1)},i=[];s._withStripped=!0;var r={render:s,staticRenderFns:i};a.default=r},790:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("Card",[e("Row",{attrs:{gutter:10}},[e("Col",{attrs:{lg:3,md:3}},[e("Cascader",{attrs:{data:t.departchoose,value:t.searchkey,filterable:"","change-on-select":"",transfer:!1},on:{"update:value":function(a){t.searchkey=a},"on-change":t.searchChange}})],1),t._v(" "),e("Col",{attrs:{lg:4,md:4}},[e("Button",{attrs:{type:"info"},on:{click:t.getIndex}},[t._v("查询")]),t._v(" "),e("Button",{attrs:{type:"info"},on:{click:t.clearSearch}},[t._v("清空")])],1),t._v(" "),e("Col",{attrs:{lg:2,md:2,offset:"15"}},[e("Row",{attrs:{type:"flex",justify:"end"}},[e("Col",[1==t.topbutton.add?e("div",[e("Button",{attrs:{type:"primary"},on:{click:t.adddepart}},[t._v("新增")])],1):t._e(),t._v(" "),e("Modal",{attrs:{title:t.departmodeltitle,"mask-closable":!1},model:{value:t.departmodal,callback:function(a){t.departmodal=a},expression:"departmodal"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",on:{click:t.modalCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v(t._s(t.departmodeltitle))])]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text",size:"large"},on:{click:t.modalCancel}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{type:"primary",size:"large"},on:{click:t.modalOk}},[t._v("确定")])],1),t._v(" "),e("Form",{ref:"formValidate",staticStyle:{padding:"16px 40px"},attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[e("FormItem",{attrs:{label:"部门名称",prop:"d_name"}},[e("Input",{attrs:{placeholder:"请输入部门名称"},model:{value:t.formValidate.d_name,callback:function(a){t.$set(t.formValidate,"d_name",a)},expression:"formValidate.d_name"}})],1),t._v(" "),e("FormItem",{attrs:{label:"部门类型",prop:"d_type"}},[e("Select",{attrs:{transfer:!1},model:{value:t.formValidate.d_type,callback:function(a){t.$set(t.formValidate,"d_type",a)},expression:"formValidate.d_type"}},t._l(t.departtype,function(a,s){return e("Option",{key:s,attrs:{value:s}},[t._v(t._s(a)+"\n                                ")])}),1)],1),t._v(" "),"总经办"!=t.formValidate.d_name?e("FormItem",{attrs:{label:"部门所属",prop:"d_pid"}},[e("Cascader",{attrs:{data:t.departchoose,value:t.departvalue,"change-on-select":"",transfer:!1},on:{"update:value":function(a){t.departvalue=a},"on-change":t.handleChange}})],1):t._e(),t._v(" "),e("FormItem",{attrs:{label:"电话",prop:"d_phone"}},[e("Input",{attrs:{placeholder:"请输入联系电话"},model:{value:t.formValidate.d_phone,callback:function(a){t.$set(t.formValidate,"d_phone",a)},expression:"formValidate.d_phone"}})],1),t._v(" "),e("FormItem",{attrs:{label:"部门区域",prop:"d_district"}},[e("Select",{attrs:{transfer:!1,filterable:""},model:{value:t.formValidate.d_district,callback:function(a){t.$set(t.formValidate,"d_district",a)},expression:"formValidate.d_district"}},t._l(t.district,function(a,s){return e("Option",{key:a.dts_id,attrs:{value:a.dts_id}},[t._v(t._s(a.dts_name)+"\n                                ")])}),1)],1),t._v(" "),e("FormItem",{attrs:{label:"地址",prop:"d_address"}},[e("Input",{attrs:{placeholder:"请输入部门地址"},model:{value:t.formValidate.d_address,callback:function(a){t.$set(t.formValidate,"d_address",a)},expression:"formValidate.d_address"}})],1),t._v(" "),e("FormItem",{attrs:{label:"部门主管",prop:"d_principal_id"}},[e("Select",{attrs:{"label-in-value":!0,transfer:!1,filterable:""},on:{"on-change":t.selectChange},model:{value:t.formValidate.d_principal_id,callback:function(a){t.$set(t.formValidate,"d_principal_id",a)},expression:"formValidate.d_principal_id"}},t._l(t.principalchoose,function(a){return e("Option",{key:a.u_id,attrs:{value:a.u_id}},[t._v(t._s(a.u_name)+" ")])}),1)],1),t._v(" "),t.formValidate.d_id||2!=t.formValidate.d_type?t._e():e("FormItem",{attrs:{label:"签约套餐",prop:"contract_version"}},[e("Select",{attrs:{transfer:!1,disabled:t.is_disabled},model:{value:t.formValidate.contract_version,callback:function(a){t.$set(t.formValidate,"contract_version",a)},expression:"formValidate.contract_version"}},[e("Option",{attrs:{value:"门店版"}},[t._v("门店版(800元) ")]),t._v(" "),e("Option",{attrs:{value:"专业版"}},[t._v("专业版(3800元) ")])],1)],1),t._v(" "),t.formValidate.d_id||2!=t.formValidate.d_type?t._e():e("FormItem",{attrs:{label:"",prop:"agreement"}},[e("Checkbox-group",{model:{value:t.formValidate.agreement,callback:function(a){t.$set(t.formValidate,"agreement",a)},expression:"formValidate.agreement"}},[e("Checkbox",{attrs:{label:"协议"}},[t._v("我已阅读并同意《耕磊房产系统收费产品用户使用协议》")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("Col",{staticStyle:{"margin-top":"10px"},attrs:{lg:24,md:24}},[e("Card",[e("Row",[e("Col",[e("departmentTable",{attrs:{departlist:t.departlist,contract_version:t.contract_version},on:{editdepart:t.editdepart,getIndex:t.getIndex}})],1)],1)],1)],1),t._v(" "),e("Modal",{attrs:{title:"微信支付",width:"480","label-width":80,"mask-closable":!1},model:{value:t.addPay,callback:function(a){t.addPay=a},expression:"addPay"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("a",{staticClass:"ivu-modal-close",staticStyle:{display:"block!important"},on:{click:t.modalPayCancel}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),t._v(" "),e("div",{staticClass:"ivu-modal-header-inner"},[t._v("微信支付")])]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"}),t._v(" "),1==t.paystatus.status?e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("div",{staticClass:"imgboxmain"},[e("img",{attrs:{src:t.qrcodeurl.url}})]),t._v(" "),e("p",{staticClass:"imgboxmain-p"},[t._v("扫描二维码立即支付")])])],1):2==t.paystatus.status?e("Row",[e("Col",{attrs:{lg:24,md:24}},[e("div",{staticClass:"payok"},[e("img",{attrs:{src:"/src/images/payok.png"}})]),t._v(" "),e("p",{staticClass:"payok-p"},[t._v(t._s(t.paymessage.data))])])],1):t._e()],1)],1)},i=[];s._withStripped=!0;var r={render:s,staticRenderFns:i};a.default=r}});