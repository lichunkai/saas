webpackJsonp([45],{267:function(t,e,a){"use strict";function i(t){u||a(705)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(502),s=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);var l=a(707),r=a.n(l),u=!1,c=a(0),d=i,h=c(s.a,r.a,!1,d,"data-v-522c758c",null);h.options.__file="src/views/housecooperation/sellcooperation-list.vue",e.default=h.exports},502:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(9),n=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={name:"sellcooperation_index",components:{},data:function(){var t=this;return{isDisable:!1,kw:"",quyu:[],area:"",huxing:"",price:"",xiaoqu:"",village:[],zhuangtai:"",imgurl:api_param.imgurl,visible:!1,housedetail:[],xiangqing:!1,pingbi:!1,shezhi:{zhuangtai:"",cooperation_id:"",company_id:"",house_id:"",yuanyin:""},totalnum:0,imgName:"",currentpage:1,settings:[],searchdata:[],houseList:[],houseColumns:[{type:"index",width:60,align:"center"},{title:"房源编号",key:"house_sn",align:"center"},{title:"房源标题",key:"house_title",align:"center"},{title:"片区",key:"dts_name",align:"center"},{title:"小区",key:"village_name",align:"center"},{title:"房屋面积（㎡）",key:"jianzhumianji",align:"center"},{title:"房屋户型",key:"huxing",align:"center",render:function(t,e){return t("div",{props:{}},e.row.huxing_shi+"室"+e.row.huxing_ting+"厅"+e.row.huxing_wei+"卫")}},{title:"房屋价格(万元)",key:"sell_price",align:"center"},{title:"楼层",key:"louceng",align:"center",render:function(t,e){return t("div",{props:{}},e.row.louceng_now+"/"+e.row.louceng_total)}},{title:"房屋类型",key:"fangwuleixing",align:"center"},{title:"装修",key:"zhuangxiu",align:"center"},{title:"状态",key:"is_blacklist",align:"center",render:function(t,e){var a=void 0;return 1==e.row.is_blacklist?(a="已屏蔽",t("Button",{props:{type:"error",size:"small"}},a)):(a="正常",t("div",{props:{}},a))}},{title:"更新时间",key:"utime",align:"center"},{title:"操作",key:"projCaozuo",align:"center",width:180,render:function(e,a){var i=[];return i.push(e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",marginTop:"5px"},on:{click:function(){1==a.row.is_blacklist?t.shezhi.zhuangtai="屏蔽":t.shezhi.zhuangtai="正常",t.shezhi.cooperation_id=a.row.cooperation_id,t.shezhi.company_id=a.row.company_id,a.row.blacklist.length>0&&(t.shezhi.yuanyin=a.row.blacklist[0].reason),t.pingbi=!0}}},"屏蔽")),i.push(e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",marginTop:"5px"},on:{click:function(){t.housedetail=a.row,t.xiangqing=!0}}},"查看")),e("div",i)}}]}},created:function(){this.quyu=[n.default.get("area_id"),n.default.get("dts_id")],this.getSetting(),this.getIndex()},methods:{getSetting:function(){this.$http.get(api_param.apiurl+"housecooperation/getsetting",{params:{},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?this.settings=t.data.data:401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)})},handleView:function(t){this.imgName=t,this.visible=!0},changeDts:function(t,e){var a=e[1].value;this.$http.get(api_param.apiurl+"village/getvillage",{params:{dts_id:a},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?(this.xiaoqu="",this.village=t.data.data.list):401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){this.$Message.error("你的网络开小差了^—^")})},modalOk:function(){if(!this.shezhi.yuanyin)return void this.$Message.warning("原因不能为空！");this.isDisable=!0,this.$http.post(api_param.apiurl+"/housecooperation/blacklist",{zhuangtai:this.shezhi.zhuangtai,yuanyin:this.shezhi.yuanyin,cooperation_id:this.shezhi.cooperation_id,company_id:this.shezhi.company_id},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){var e=this;this.pingbi=!1,this.shezhi.yuanyin="",this.$Message.success(t.data.message),setTimeout(function(){e.isDisable=!1},1e3),this.getIndex()},function(t){var e=this;this.$Message.warning("更新失败"),setTimeout(function(){e.isDisable=!1},1e3)})},modalCancel:function(){this.pingbi=!1,this.shezhi.yuanyin=""},getIndex:function(){this.$http.get(api_param.apiurl+"housecooperation/index",{params:{kw:this.kw,quyu:this.quyu,area:this.area,huxing:this.huxing,price:this.price,page:this.currentpage,xiaoqu:this.xiaoqu,zhuangtai:this.zhuangtai,house_type:2},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){this.totalnum=parseInt(t.data.data.total),this.houseList=t.data.data.houseList},function(t){console.log(t)})},doSearch:function(){this.currentpage=1,this.getIndex()},clearSearch:function(){this.kw="",this.quyu=0,this.zhuangtai="",this.area="",this.huxing="",this.xiaoqu="",this.price="",this.currentpage=1,this.getIndex()},changePage:function(t){this.currentpage=t,this.getIndex()}}}},705:function(t,e,a){var i=a(706);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(8)("34ae70d5",i,!1,{})},706:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.margin[data-v-522c758c] {\n    margin-top: 10px;\n}\n.orderEditTitle[data-v-522c758c] {\n    font-weight: bold;\n    font-size: 14px;\n    overflow: hidden;\n    clear: both;\n    line-height: 44px;\n}\n.orderEditCountent[data-v-522c758c] {\n    overflow: hidden;\n    margin: 5px 0;\n}\n.orderEditCountent p[data-v-522c758c] {\n    width: 35%;\n    float: left;\n    text-align: right;\n    color: #999;\n}\n.orderEditCountent span[data-v-522c758c] {\n    width: 65%;\n    float: left;\n    display: block;\n}\n.orderEditMain[data-v-522c758c] {\n    width: 100%;\n}\n.orderEditMain li[data-v-522c758c] {\n    width: 20%;\n    float: left;\n}\n.projectGood ul li[data-v-522c758c] {\n    width: 100%;\n    overflow: hidden;\n    margin: 10px 0;\n}\n.projectGood strong[data-v-522c758c] {\n    float: left;\n    width: 20%;\n}\n.projectGood .rightGood[data-v-522c758c] {\n    float: left;\n    width: 80%;\n    line-height: 20px;\n}\n",""])},707:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Col",{attrs:{lg:24,md:24}},[a("Card",[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{lg:3,md:3}},[a("Cascader",{attrs:{data:t.settings.district,placeholder:"区域选择",filterable:"","change-on-select":""},on:{"on-change":t.changeDts},model:{value:t.quyu,callback:function(e){t.quyu=e},expression:"quyu"}})],1),t._v(" "),a("Col",{attrs:{lg:3,md:3}},[a("Select",{attrs:{placeholder:"小区选择",transfer:!0},model:{value:t.xiaoqu,callback:function(e){t.xiaoqu=e},expression:"xiaoqu"}},t._l(t.village,function(e){return a("Option",{key:e.village_name,attrs:{value:e.village_id}},[t._v(t._s(e.village_name))])}),1)],1),t._v(" "),a("Col",{attrs:{lg:2,md:2}},[a("Select",{attrs:{placeholder:"状态"},on:{"on-change":t.doSearch},model:{value:t.zhuangtai,callback:function(e){t.zhuangtai=e},expression:"zhuangtai"}},[a("Option",{attrs:{value:"1"}},[t._v("正常")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("屏蔽")])],1)],1),t._v(" "),a("Col",{attrs:{lg:2,md:2}},[a("Select",{attrs:{placeholder:"户型"},model:{value:t.huxing,callback:function(e){t.huxing=e},expression:"huxing"}},[a("Option",{attrs:{value:"0"}},[t._v("全部")]),t._v(" "),a("Option",{attrs:{value:"1"}},[t._v("1室")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("2室")]),t._v(" "),a("Option",{attrs:{value:"3"}},[t._v("3室")]),t._v(" "),a("Option",{attrs:{value:"4"}},[t._v("4室")]),t._v(" "),a("Option",{attrs:{value:"5"}},[t._v("5室以上")])],1)],1),t._v(" "),a("Col",{attrs:{lg:2,md:2}},[a("Select",{attrs:{placeholder:"价格区间",transfer:!0},on:{"on-change":t.doSearch},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}},t._l(t.settings.jgqj,function(e,i){return a("Option",{key:i,attrs:{value:e.min+"-"+e.max}},[t._v(t._s(e.child_name)+"\n                ")])}),1)],1),t._v(" "),a("Col",{attrs:{lg:2,md:2}},[a("Select",{attrs:{placeholder:"面积区间",transfer:!0},on:{"on-change":t.doSearch},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}},t._l(t.settings.mjqj,function(e,i){return a("Option",{key:i,attrs:{value:e.min+"-"+e.max}},[t._v(t._s(e.child_name)+"\n                ")])}),1)],1),t._v(" "),a("Col",{attrs:{lg:3,md:3}},[a("Input",{attrs:{placeholder:"房源名称，小区名，片区名，编号"},model:{value:t.kw,callback:function(e){t.kw=e},expression:"kw"}})],1),t._v(" "),a("Col",{attrs:{lg:3,md:3}},[a("Button",{attrs:{type:"primary"},on:{click:t.doSearch}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.clearSearch}},[t._v("清空")])],1)],1),t._v(" "),a("Modal",{attrs:{title:"屏蔽房源"},model:{value:t.pingbi,callback:function(e){t.pingbi=e},expression:"pingbi"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:t.modalCancel}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary",size:"large",disabled:t.isDisable},on:{click:t.modalOk}},[t._v("确定")])],1),t._v(" "),a("Row",[a("Select",{attrs:{placeholder:"",transfer:!0},model:{value:t.shezhi.zhuangtai,callback:function(e){t.$set(t.shezhi,"zhuangtai",e)},expression:"shezhi.zhuangtai"}},[a("Option",{key:"正常",attrs:{value:"正常"}},[t._v("正常")]),t._v(" "),a("Option",{key:"屏蔽",attrs:{value:"屏蔽"}},[t._v("屏蔽")])],1)],1),t._v(" "),a("Row",{staticStyle:{"margin-top":"10px"}},[a("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入原因"},model:{value:t.shezhi.yuanyin,callback:function(e){t.$set(t.shezhi,"yuanyin",e)},expression:"shezhi.yuanyin"}}),t._v(" "),a("p",{staticStyle:{color:"red","font-size":"12px","margin-top":"10px","text-align":"right"}},[t._v("温馨提示：屏蔽之后，此合作房源将不会在您的网站和小程序上展示")])],1)],1),t._v(" "),a("Modal",{attrs:{title:"房源详情","ok-text":"确认","cancel-text":"取消",width:"960"},model:{value:t.xiangqing,callback:function(e){t.xiangqing=e},expression:"xiangqing"}},[a("p",{staticClass:"orderEditTitle"},[t._v("基本信息")]),t._v(" "),a("Row",{staticClass:"orderEditMain"},[a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("房源标题:  ")]),a("span",[t._v(t._s(t.housedetail.house_title))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("房源编号:  ")]),a("span",[t._v(t._s(t.housedetail.house_sn))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("区域:  ")]),t._v(" "),a("span",[t._v(t._s(t.housedetail.dts_name)+"-"+t._s(t.housedetail.village_name))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("建筑面积:  ")]),a("span",[t._v(t._s(t.housedetail.jianzhumianji))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("使用面积:  ")]),a("span",[t._v(t._s(t.housedetail.shiyongmianji))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("装修:  ")]),a("span",[t._v(t._s(t.housedetail.zhuangxiu))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("配套:  ")]),a("span",[t._v(t._s(t.housedetail.peitao))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("房屋户型:  ")]),a("span",[t._v(t._s(t.housedetail.huxing_shi)+"室"+t._s(t.housedetail.huxing_ting)+"厅"+t._s(t.housedetail.huxing_wei)+"卫")])])]),t._v(" "),1!=t.housedetail.sale_type?a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("售价:  ")]),a("span",[t._v(t._s(t.housedetail.sell_price))])])]):a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("租价:  ")]),a("span",[t._v(t._s(t.housedetail.rent_price))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("房源标签:  ")]),a("span",[t._v(t._s(t.housedetail.house_tag))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("建造年代:  ")]),a("span",[t._v(t._s(t.housedetail.jianzaoniandai)+"年")])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("产权性质:  ")]),a("span",[t._v(t._s(t.housedetail.chanquanxingzhi))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("产权年限:  ")]),a("span",[t._v(t._s(t.housedetail.chanquannianxian))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("产证日期:  ")]),a("span",[t._v(t._s(t.housedetail.chanzhengriqi))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("房源税费:  ")]),a("span",[t._v(t._s(t.housedetail.fangyuanshuifei))])])]),t._v(" "),a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("看房方式:  ")]),a("span",[t._v(t._s(t.housedetail.kanfangfangshi))])])]),t._v(" "),1==t.housedetail.is_yaoshi?a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("钥匙:  ")]),a("span",[t._v("有")])])]):a("Col",{attrs:{lg:6,ma:6}},[a("div",{staticClass:"orderEditCountent"},[a("p",[t._v("钥匙:  ")]),a("span",[t._v("无")])])])],1),t._v(" "),a("Row",[a("p",{staticClass:"orderEditTitle"},[t._v("联系电话")]),t._v(" "),t._l(t.housedetail.company_tel,function(e){return a("Col",{staticClass:"orderEditCountent",attrs:{lg:6,md:6}},[a("p",[t._v(t._s(e.occ_name)+":  ")]),a("span",[t._v(t._s(e.occ_tel))])])})],2),t._v(" "),a("Row",[a("div",[a("p",{staticClass:"orderEditTitle"},[t._v("项目图片")]),t._v(" "),t._l(t.housedetail.house_img,function(e){return a("div",{staticClass:"demo-upload-list",staticStyle:{float:"left","margin-left":"10px"}},[[a("img",{attrs:{src:t.imgurl+e.hi_url}}),t._v(" "),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return t.handleView(t.imgurl+e.hi_url)}}})],1)]],2)})],2)]),t._v(" "),a("Modal",{attrs:{title:"图片详情",transfer:!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgName}})])],1)],1)],1),t._v(" "),a("Col",{staticClass:"margin",attrs:{lg:24,md:24}},[a("Card",[a("Table",{attrs:{data:t.houseList,columns:t.houseColumns,stripe:"",border:""}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.totalnum,current:t.currentpage,"show-total":""},on:{"on-change":t.changePage}})],1)])],1)],1)],1)},n=[];i._withStripped=!0;var s={render:i,staticRenderFns:n};e.default=s}});