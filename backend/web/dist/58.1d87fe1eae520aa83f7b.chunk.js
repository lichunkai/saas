webpackJsonp([58],{286:function(t,e,a){"use strict";function n(t){l||a(758)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(521),o=a.n(r);for(var i in r)"default"!==i&&function(t){a.d(e,t,function(){return r[t]})}(i);var s=a(760),c=a.n(s),l=!1,d=a(0),h=n,u=d(o.a,c.a,!1,h,"data-v-177883b0",null);u.options.__file="src/views/check-work/work-tongji.vue",e.default=u.exports},521:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"workTongji",data:function(){return{exporturl:api_param.apiurl+"/oakaoqingtongji/export?token="+api_param.XAccessToken,mendianValue:[],mendianData:[],columns:[{title:"门店",key:"d_name",align:"center"},{title:"员工",key:"u_name",align:"center"},{title:"月份",key:"kq_month",align:"center"},{title:"天数",key:"tianshu",align:"center"},{title:"应到(天)",key:"yingdao",align:"center"},{title:"实到(天)",key:"shidao",align:"center"},{title:"请假(次)",key:"qingjia",align:"center"},{title:"迟到(天)",key:"chidao",align:"center"},{title:"早退(次)",key:"zaotui",align:"center"},{title:"下班未打卡(次)",key:"xiabanweidaka",align:"center"}],data:[{mendian:"金竹店",yuangong:"张三",yuefen:"2018-06",tianshu:"28",yingdao:"28",shidao:"25",qingjia:"1",chidao:"1",zaotui:"1",xiabanweidaka:"0"}],current:1,total:0,pageSize:10,searchkey:"",selMonth:""}},created:function(){this.getList()},methods:{changePage:function(t){this.current=t,this.getList()},getList:function(){this.$http.get(api_param.apiurl+"oakaoqingtongji/getlist",{params:{page:this.current,d_id:this.searchkey,selMonth:this.selMonth},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(t){200==t.data.code?(this.data=t.data.data.list,this.total=t.data.data.totalnum,this.departchoose=t.data.data.departchoose):401==t.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(t.data.message)},function(t){console.log(t)})},searchDepart:function(t,e){this.searchkey=t[t.length-1]},changeMonth:function(t){this.selMonth=t},clearMonth:function(t){this.selMonth=""},clearSearch:function(){this.searchkey="",this.selMonth="",this.getList()}}}},758:function(t,e,a){var n=a(759);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(8)("5c3c9ab1",n,!1,{})},759:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.workbtn[data-v-177883b0]{\r\n    display: inline-block;\r\n    margin-bottom: 0;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    -ms-touch-action: manipulation;\r\n        touch-action: manipulation;\r\n    cursor: pointer;\r\n    background-image: none;\r\n    border: 1px solid transparent;\r\n    white-space: nowrap;\r\n    line-height: 1.5;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    padding: 6px 15px;\r\n    font-size: 12px;\r\n    border-radius: 4px;\r\n    transition: color .2s linear,background-color .2s linear,border .2s linear,box-shadow .2s linear;\r\n    color: #fff;\r\n    background-color: #2d8cf0;\r\n    border-color: #2d8cf0;\n}\r\n",""])},760:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Col",{attrs:{lg:24,md:24}},[a("Card",[a("Row",{attrs:{gutter:5}},[a("Col",{attrs:{lg:3,md:3}},[a("Cascader",{attrs:{data:t.departchoose,value:t.searchkey,filterable:"","change-on-select":"",placeholder:"选择门店",transfer:!0},on:{"update:value":function(e){t.searchkey=e},"on-change":t.searchDepart}})],1),t._v(" "),a("Col",{attrs:{lg:3,md:3}},[a("DatePicker",{attrs:{type:"month",value:t.selMonth,placeholder:"选择月份",transfer:!0},on:{"on-change":t.changeMonth,"on-clear":t.clearMonth}})],1),t._v(" "),a("Col",{attrs:{lg:4,md:4}},[a("Button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.clearSearch}},[t._v("清空")])],1),t._v(" "),a("Col",{attrs:{lg:14,md:14}},[a("Row",{attrs:{type:"flex",justify:"end"}},[a("Col",[a("a",{staticClass:"workbtn",attrs:{href:t.exporturl+"&page="+t.current+"&d_id="+t.searchkey+"&selMonth="+t.selMonth,target:"_blank"}},[t._v("导出")])])],1)],1)],1)],1)],1),t._v(" "),a("Col",{staticStyle:{"margin-top":"10px"},attrs:{lg:24,md:24}},[a("Card",[a("Table",{attrs:{border:"",columns:t.columns,data:t.data}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.total,current:t.current,"show-total":"","page-size":t.pageSize},on:{"on-change":t.changePage}})],1)])],1)],1)],1)},r=[];n._withStripped=!0;var o={render:n,staticRenderFns:r};e.default=o}});