webpackJsonp([19],{293:function(e,t,a){"use strict";function i(e){c||a(781)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(528),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var l=a(783),o=a.n(l),c=!1,u=a(0),d=i,p=u(n.a,o.a,!1,d,null,null);p.options.__file="src/views/common/juecepeizhi.vue",t.default=p.exports},299:function(e,t,a){"use strict";t.__esModule=!0;var i=a(301),s=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t,a){return t in e?(0,s.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},301:function(e,t,a){e.exports={default:a(302),__esModule:!0}},302:function(e,t,a){a(303);var i=a(3).Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},303:function(e,t,a){var i=a(22);i(i.S+i.F*!a(11),"Object",{defineProperty:a(10).f})},528:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"juecepeizhi",data:function(){var e=this;return{addJueceModal:!1,guanjianzi:"",totalnum1:0,currentpage1:1,pageSize:10,formValidate:{jsetting_id:"",jsetting_shorthand:"",jsetting_type:"",jsetting_name:"",jsetting_desp:"",val_type:"",val:""},ruleValidate:{jsetting_shorthand:[{required:!0,message:"请填写配置英文简称",trigger:"blur"}],jsetting_type:[{required:!0,message:"请填写配置类型",trigger:"blur"}],jsetting_name:[{required:!0,message:"请填写配置名称",trigger:"blur"}],jsetting_desp:[{required:!0,message:"请填写配置说明",trigger:"blur"}],val_type:[{required:!0,message:"请填写取值范围",trigger:"blur"}],val:[{required:!0,message:"请填写默认值",trigger:"blur"}]},selected:"true",options:[{value:"true ",text:"是"},{value:"false ",text:"否"}],jsetting_name:"",front_content:"",type:"select",csetting_id:"",back_content:"",settingsParameter:!1,cityList:[{value:"房源",label:"房源"},{value:"客源",label:"客源"},{value:"求购",label:"求购"},{value:"求租",label:"求租"},{value:"跟进",label:"跟进"},{value:"其他",label:"其他"}],searchType:"",jueceTable:[{title:"类型",key:"jsetting_type",align:"center"},{title:"名称",key:"jsetting_name",align:"center"},{title:"英文简称",key:"jsetting_shorthand",align:"center"},{title:"说明",key:"jsetting_desp",align:"center",render:function(e,t){var a=(t.row,t.row.jsetting_desp),i=t.row.val,s=t.row.val_type,n=s.split(";");if("text"==n[0])i=i;else if("select"==n[0])for(var r=1;r<n.length;r++){var l=n[r].split(":");l[0]==i&&(i=l[1])}var o=a.split("{$val}");return e("div",[o[0],e("strong",{style:{color:"red"}},i),o[1]])}},{title:"操作",key:"action",align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"text",size:"small"},style:{marginRight:"5px",color:"#2d8cf0"},on:{click:function(){e.settingsParameter=!0,e.jsetting_name=a.row.jsetting_name,e.jsetting_id=a.row.jsetting_id;var t=a.row.val_type,i=t.split(";"),s=a.row.jsetting_desp,n=s.split("{$val}");e.front_content=n[0],e.back_content=n[1],e.type=i[0],e.val=a.row.val;var r=[];if("select"==i[0])for(var l=1;l<i.length;l++){var o=i[l].split(":"),c={value:o[0],text:o[1]};r[l-1]=c}e.options=r,e.selected=e.val}}},"设置")])}}],jueceTableData:[],data1:[{type:"房源",name:"查看座栋是否写跟进",explain:"查看座栋以后必须写跟进 "},{type:"房源",name:"淘宝审核",explain:"淘宝  审核"},{type:"房源",name:"失效需要审核",explain:"状态变为失效 审核"},{type:"房源",name:"封盘数量",explain:"经纪人最多只能保留  个有效房源封盘（包括封电话和封路径）"}]}},methods:{addJuece:function(){this.addJueceModal=!0,this.formValidate.jsetting_id="",this.formValidate.jsetting_shorthand="",this.formValidate.jsetting_type="",this.formValidate.jsetting_name="",this.formValidate.jsetting_desp="",this.formValidate.val_type="",this.formValidate.val=""},add1Ok:function(){var e=this;this.$refs.formValidate.validate(function(t){t&&e.$http.post(api_param.apiurl+"/settingjuece/add",{jsetting_id:"",jsetting_shorthand:e.formValidate.jsetting_shorthand,jsetting_name:e.formValidate.jsetting_name,jsetting_type:e.formValidate.jsetting_type,jsetting_desp:e.formValidate.jsetting_desp,val_type:e.formValidate.val_type,val:e.formValidate.val},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(e){200==e.data.code?(this.$refs.formValidate.resetFields(),this.addJueceModal=!1,this.$Message.success(e.data.message),this.getjuece()):401==e.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(e.data.message)},function(e){this.$Message.warning("更新失败")})})},add1Cancel:function(){this.$refs.formValidate.resetFields(),this.addJueceModal=!1},modifyOk:function(){if(this.val=this.val.replace(/(^\s*)|(\s*$)/g,""),"text"===this.type){if(""===this.val)return void alert("值不能为空")}else"select"===this.type&&(this.val=this.selected);this.$http.post(api_param.apiurl+"/settingjuece/editval",{jsetting_id:this.jsetting_id,val:this.val},{emulateJSON:!0,headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(e){200==e.data.code?(this.settingsParameter=!1,this.$Message.success(e.data.message),this.getjuece()):401==e.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(e.data.message)},function(e){this.$Message.warning("更新失败")})},modifyCancel:function(){this.settingsParameter=!1},changePage1:function(e){this.currentpage1=e,this.getjuece()},getjuece:function(){this.$http.get(api_param.apiurl+"/settingjuece/getlist",{params:{page:this.currentpage1,pagesize:10,kw:this.guanjianzi,type:this.searchType},headers:{"X-Access-Token":api_param.XAccessToken}}).then(function(e){if(200==e.data.code){this.totalnum1=parseInt(e.body.data.totalnum),this.jueceTableData=e.body.data.list;for(var t=0;t<this.jueceTableData.length;t++);}else 401==e.data.code?(this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),this.$router.push({name:"login"})):this.$Message.warning(e.data.message)},function(e){})},doSearch:function(){this.currentpage1=1,this.guanjianzi=this.guanjianzi,this.searchType=this.searchType,this.getjuece()},clearSearch:function(){this.guanjianzi="",this.searchType="",this.getjuece()}},created:function(){this.getjuece()},computed:{}}},781:function(e,t,a){var i=a(782);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(8)("0fece846",i,!1,{})},782:function(e,t,a){t=e.exports=a(7)(!1),t.push([e.i,"",""])},783:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(299),s=function(e){return e&&e.__esModule?e:{default:e}}(i),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Row",[a("Col",{staticStyle:{"margin-bottom":"10px"},attrs:{lg:24,md:24}},[a("Card",[a("Row",[a("Col",{attrs:{lg:14,md:14}},[a("Select",{staticStyle:{width:"200px"},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.cityList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1),e._v(" "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字"},model:{value:e.guanjianzi,callback:function(t){e.guanjianzi=t},expression:"guanjianzi"}}),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.doSearch}},[e._v("查询")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.clearSearch}},[e._v("清空")])],1)],1)],1)],1),e._v(" "),a("Col",{attrs:{lg:24,md:24}},[a("Card",[a("Row",[a("Col",[a("Table",{attrs:{columns:e.jueceTable,data:e.jueceTableData,border:"",stripe:"","highlight-row":""}}),e._v(" "),a("Modal",{attrs:{title:"设置决策参数","mask-closable":!1},model:{value:e.settingsParameter,callback:function(t){e.settingsParameter=t},expression:"settingsParameter"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("a",{staticClass:"ivu-modal-close",staticStyle:{display:"block!important"},on:{click:e.modifyCancel}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),e._v(" "),a("div",{staticClass:"ivu-modal-header-inner"},[e._v("设置决策参数")])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:e.modifyCancel}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"primary",size:"large"},on:{click:e.modifyOk}},[e._v("确定")])],1),e._v(" "),a("Row",[a("Col",{attrs:{lg:24,md:24}},[a("h3",{staticStyle:{"margin-bottom":"10px"}})]),e._v(" "),a("Col",[a("div",[e._v(e._s(e.jsetting_name))]),e._v(" "),a("div",[e._v("\n                        "+e._s(e.front_content)+"\n                        "),"select"===e.type?a("Select",{staticStyle:{width:"88px"},attrs:{transfer:!0},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.options,function(t){return a("Option",{key:t.value,attrs:(0,s.default)({value:t.value},"value",t.value)},[e._v(e._s(t.text))])}),1):"text"===e.type?a("Input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}}):e._e(),e._v("\n                        "+e._s(e.back_content)+"\n                    ")],1),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"hidden"},domProps:{value:e.type},on:{input:function(t){t.target.composing||(e.type=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.csetting_id,expression:"csetting_id"}],attrs:{type:"hidden"},domProps:{value:e.csetting_id},on:{input:function(t){t.target.composing||(e.csetting_id=t.target.value)}}})])],1)],1)],1)],1),e._v(" "),a("Row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"end"}},[a("Col",[a("Page",{attrs:{total:e.totalnum1,current:e.currentpage1,"page-size":e.pageSize,"show-total":""},on:{"on-change":e.changePage1}})],1)],1)],1)],1)],1)},r=[];n._withStripped=!0;var l={render:n,staticRenderFns:r};t.default=l}});